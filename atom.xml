<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Text Blog</title>
 <link href="http://sankame.github.com/atom.xml" rel="self"/>
 <link href="http://sankame.github.com"/>
 <updated>2012-09-10T14:42:13+09:00</updated>
 <id>http://sankame.github.com</id>
 <author>
   <name>sankame</name>
   <email>mt_fuji_3776@live.jp</email>
 </author>

 
 <entry>
   <title>CentOSコマンド メモ</title>
   <link href="http://sankame.github.com/CentOS/2012/12/31/centos_command"/>
   <updated>2012-12-31T00:00:00+09:00</updated>
   <id>http://sankame.github.com/CentOS/2012/12/31/centos_command</id>
   <content type="html">&lt;p&gt;投稿日：&lt;span&gt;2012年12月31日&lt;/span&gt;&lt;br /&gt; &lt;script type='text/javascript'&gt;&lt;!--
google_ad_client = &quot;ca-pub-7590393515441008&quot;;
/* TextBlogCenterTop */
google_ad_slot = &quot;5898581108&quot;;
google_ad_width = 468;
google_ad_height = 60;
//--&gt;
&lt;/script&gt; &lt;script type='text/javascript' src='http://pagead2.googlesyndication.com/pagead/show_ads.js'&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;h4 id='centos_'&gt;CentOSコマンド メモ&lt;/h4&gt;

&lt;h5 id='id9'&gt;・ファイル検索&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt; find / -name filename&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id='locate_20130101'&gt;・locateインストール (更新日：2013/01/01)&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# which locate
/usr/bin/which: no locate in ・・・以下省略

# パッケージ名がlocateではないので注意。
# yum install mlocate

# which locate
/usr/bin/locate

# 下記コマンドでDBを更新するとlocateが使えるようになる。
# updatedb&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>PHPサンプル isset関数化</title>
   <link href="http://sankame.github.com/PHP/2012/12/28/php_sample_viaisset"/>
   <updated>2012-12-28T00:00:00+09:00</updated>
   <id>http://sankame.github.com/PHP/2012/12/28/php_sample_viaisset</id>
   <content type="html">&lt;p&gt;投稿日：&lt;span&gt;2012年12月28日&lt;/span&gt;&lt;br /&gt; &lt;script type='text/javascript'&gt;&lt;!--
google_ad_client = &quot;ca-pub-7590393515441008&quot;;
/* TextBlogCenterTop */
google_ad_slot = &quot;5898581108&quot;;
google_ad_width = 468;
google_ad_height = 60;
//--&gt;
&lt;/script&gt; &lt;script type='text/javascript' src='http://pagead2.googlesyndication.com/pagead/show_ads.js'&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;h4 id='undefined_index_noticeisset'&gt;&amp;#8220;Undefined index&amp;#8221; Noticeを防ぐためのissetが冗長なので関数化。&lt;/h4&gt;
&lt;script src='https://gist.github.com/4389910.js' /&gt;</content>
 </entry>
 
 <entry>
   <title>GitHubPagesが動かない</title>
   <link href="http://sankame.github.com/GitHub/2012/12/27/github_pages_doesnt_work"/>
   <updated>2012-12-27T00:00:00+09:00</updated>
   <id>http://sankame.github.com/GitHub/2012/12/27/github_pages_doesnt_work</id>
   <content type="html">&lt;p&gt;投稿日：&lt;span&gt;2012年12月27日&lt;/span&gt;&lt;br /&gt; &lt;script type='text/javascript'&gt;&lt;!--
google_ad_client = &quot;ca-pub-7590393515441008&quot;;
/* TextBlogCenterTop */
google_ad_slot = &quot;5898581108&quot;;
google_ad_width = 468;
google_ad_height = 60;
//--&gt;
&lt;/script&gt; &lt;script type='text/javascript' src='http://pagead2.googlesyndication.com/pagead/show_ads.js'&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;h4 id='githubpagesindexhtml'&gt;GitHubPagesでブログを公開しようと、下記ページに従って作業したがindex.htmlすら表示されない…&lt;/h4&gt;

&lt;h4 id='id8'&gt;&lt;a href='http://tokkono.cute.coocan.jp/blog/slow/index.php/programming/github-pages-almost-perfect-guide/'&gt;参考ページ&lt;/a&gt;&lt;/h4&gt;

&lt;h4 id='1github'&gt;1.GitHubに登録したメールアドレスの受信箱をチェック&lt;/h4&gt;

&lt;p&gt;&amp;#8220;Page build failure&amp;#8221;というサブジェクトでGitHubからメールが届いていた。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;The page build failed with the following error:

You need a verified email address in your GitHub account to publish Pages.
You can verify your email addresses from your Settings panel:

https://github.com/settings/emails&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;設定パネルであなたのメアドが正しいことを確認してください、と書いてある。&lt;/p&gt;

&lt;p&gt;上記メール内のリンクを押してページ遷移した後、メールアドレスの確認ボタンをクリック。&lt;/p&gt;

&lt;p&gt;その後、github pagesのページ作成ボタンを押すと下記URLにアクセスできた。 (usernameは読み替え)&lt;/p&gt;

&lt;p&gt;http://username.github.com/&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenXインストール</title>
   <link href="http://sankame.github.com/OpenX/2012/12/24/openx_install"/>
   <updated>2012-12-24T00:00:00+09:00</updated>
   <id>http://sankame.github.com/OpenX/2012/12/24/openx_install</id>
   <content type="html">&lt;p&gt;投稿日：&lt;span&gt;2012年12月24日&lt;/span&gt;&lt;br /&gt; &lt;script type='text/javascript'&gt;&lt;!--
google_ad_client = &quot;ca-pub-7590393515441008&quot;;
/* TextBlogCenterTop */
google_ad_slot = &quot;5898581108&quot;;
google_ad_width = 468;
google_ad_height = 60;
//--&gt;
&lt;/script&gt; &lt;script type='text/javascript' src='http://pagead2.googlesyndication.com/pagead/show_ads.js'&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;h4 id='pcvmwareplayeropenx'&gt;ローカルPCのVmwarePlayerにOpenXをインストール。&lt;/h4&gt;

&lt;h4 id='id7'&gt;&lt;a href='http://www.openx.com/docs/qsg-install'&gt;マニュアル&lt;/a&gt;に従ってインストールした。&lt;/h4&gt;

&lt;h4 id='1'&gt;1.ソース取得&lt;/h4&gt;

&lt;p&gt;マニュアルの下記リンクからソースをダウンロード。(アンケートあるためwgetでは落とせない)&lt;/p&gt;

&lt;p&gt;Download the latest installation archive from: &lt;a href='http://www.openx.com/publisher/open-source-ad-server'&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ソースをWebサーバへアップし、解凍して公開ディレクトリへ配置する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# mv openx-2.8.10 openx
# mv openx /var/www/html/&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;/var/www/html/openx/varと/var/www/html/openx/www/images　に777を与える。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cd /var/www/html/openx/
# chmod -R 777 var
# chmod -R 777 ./www/images/&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ブラウザでhttp://localhost/openx/ へアクセスし、Webのインストーラを起動する。&lt;/p&gt;

&lt;p&gt;下記のディレクトリにも書き込み権限が必要というエラーが出た。&lt;/p&gt;

&lt;p&gt;/var/www/html/openx/plugins&lt;/p&gt;

&lt;p&gt;/var/www/html/openx/www/admin/plugins&lt;/p&gt;

&lt;p&gt;画面にコマンドが書いてあったのでそのまま実行。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# chmod -R a+w /var/www/html/openx/plugins
# chmod -R a+w /var/www/html/openx/www/admin/plugins&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='2registration'&gt;2.Registration&lt;/h4&gt;

&lt;p&gt;Webインストーラを続行、下記項目に入力。&lt;/p&gt;

&lt;p&gt;name, password, e-mail&lt;/p&gt;

&lt;h4 id='3database'&gt;3.Database&lt;/h4&gt;

&lt;p&gt;DBがなかったら作成されると画面に書いてあったが、エラーになったので&lt;/p&gt;

&lt;p&gt;下記コマンドであらかじめDBとユーザを作成。(testxxxxの部分は適当に変更)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# create database testdb;
# grant all on testdb.* to &amp;#39;testuser&amp;#39;@&amp;#39;localhost&amp;#39; identified by &amp;#39;testpassword&amp;#39;;&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='4_configuration'&gt;4. Configuration&lt;/h4&gt;

&lt;p&gt;Webインストーラを続行、下記項目に入力。&lt;/p&gt;

&lt;p&gt;Admin User, Admin User Password&lt;/p&gt;

&lt;h4 id='5_finish'&gt;5. Finish&lt;/h4&gt;

&lt;p&gt;エラーが出たからログを見てね、と書いてあったが無視してそのままcontinue&lt;/p&gt;

&lt;p&gt;※その後、ログを見たがエラーは出力されていなかった。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# view /var/www/html/openx/var/install.log&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='6_'&gt;6. その他&lt;/h4&gt;

&lt;p&gt;そのまま広告設定の管理画面ぽいところへ遷移。&lt;/p&gt;

&lt;p&gt;ページ上部に下記のエラーメッセージが…&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Warning: date_default_timezone_get(): It is not safe to rely
 on the system&amp;#39;s timezone settings.
 You are *required* to use the date.timezone setting or the
 date_default_timezone_set() function.
 In case you used any of those methods and you are still getting
 this warning, you most likely misspelled the timezone identifier.
 We selected &amp;#39;Asia/Tokyo&amp;#39; for &amp;#39;JST/9.0/no DST&amp;#39; instead in
 /var/www/html/openx/variables.php on line 82 &lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;下記ソースに追記する。&lt;/p&gt;

&lt;p&gt;■ソース&lt;/p&gt;

&lt;p&gt;/var/www/html/openx/variables.php&lt;/p&gt;

&lt;p&gt;■追記&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;//追記ここから
if( ! ini_get(&amp;#39;date.timezone&amp;#39;) ){
	date_default_timezone_set(&amp;#39;Asia/Tokyo&amp;#39;);
}
//追記ここまで
	$GLOBALS[&amp;#39;serverTimezone&amp;#39;] = date_default_timezone_get();&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href='http://www.jamescrowley.co.uk/2010/09/12/running-openx-under-iis-with-php-5-3-date-default-timezone-get-errors/'&gt;参考ページ&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Jekyllとgithubでブログ作成</title>
   <link href="http://sankame.github.com/Jekyll/2012/12/23/jekyll_and_github"/>
   <updated>2012-12-23T00:00:00+09:00</updated>
   <id>http://sankame.github.com/Jekyll/2012/12/23/jekyll_and_github</id>
   <content type="html">&lt;p&gt;投稿日：&lt;span&gt;2012年12月23日&lt;/span&gt;&lt;br /&gt; &lt;script type='text/javascript'&gt;&lt;!--
google_ad_client = &quot;ca-pub-7590393515441008&quot;;
/* TextBlogCenterTop */
google_ad_slot = &quot;5898581108&quot;;
google_ad_width = 468;
google_ad_height = 60;
//--&gt;
&lt;/script&gt; &lt;script type='text/javascript' src='http://pagead2.googlesyndication.com/pagead/show_ads.js'&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;h4 id='pcvmwareplayerruby_rubygems_jekyll'&gt;ローカルPCのVmwarePlayerにRuby, RubyGems, Jekyllをインストール。&lt;/h4&gt;

&lt;h4 id='jekyllgithub'&gt;Jekyllで作ったブログをGitHubに設置する。&lt;/h4&gt;

&lt;h4 id='1ruby'&gt;1.Rubyインストール&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# インストール済みか？
# rpm -q ruby
# インストールされていない場合、インストールを行う。
# yum install ruby ruby-devel rdoc irb&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='2rubygems'&gt;2.RubyGemsインストール&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# wget http://rubyforge.org/frs/download.php/60718/rubygems-1.3.5.tgz
# tar xzf rubygems-1.3.5.tgz
# cd rubygems-1.3.5
# ruby setup.rb
# インストールされたgemsのバージョン確認。
# gem -v&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='3jekyll'&gt;3.Jekyllインストール&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# gem install jekyll&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;下記メッセージ(抜粋)でインストール失敗…&lt;/p&gt;

&lt;p&gt;buffer overflow detected&lt;/p&gt;

&lt;h5 id='31_vmware_player192mb__256mb_'&gt;3-1. vmware playerの割り当てメモリ変更。192MB -&amp;gt; 256MB (問題の解決とは無関係と思われる)&lt;/h5&gt;

&lt;h5 id='32_ruby'&gt;3-2. Ruby再インストール&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# cd /etc/yum.repos.d/
# wget http://rubyworks.rubyforge.org/RubyWorks.repo
# yum install ruby

# ruby -v
ruby 1.8.6 (2007-09-24 patchlevel 111) [i386-linux]&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id='33_jekyll'&gt;3-3. Jekyll再インストール&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# gem install jekyll
ERROR: Error installing jekyll:
liquid requires RubyGems version &amp;gt;= 1.3.7
# またもやエラー。&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id='34_rubygems'&gt;3-4. RubyGems再インストール&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# 上記3-3でRubyGemsのバージョンが違うというエラーが出たのでRuby Forgeで当該バージョンのURLをコピー。
# http://rubyforge.org/frs/?group_id=126

# wget http://rubyforge.org/frs/download.php/60718/rubygems-1.3.7.tgz
# cd rubygems-1.3.7
# ruby setup.rb&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id='35_jekyll'&gt;3-5. Jekyll再インストール&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# gem install jekyll
# 今回はインストール成功。
# jekyll -v
Jekyll 0.11.2&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id='36_'&gt;3-6. &lt;a href='http://help.papertrailapp.com/discussions/questions/114-buffer-overflow-detected'&gt;参考ページ&lt;/a&gt;&lt;/h5&gt;

&lt;h4 id='4jekyll_bootstrap'&gt;4.Jekyll Bootstrap取得&lt;/h4&gt;

&lt;h5 id='1'&gt;1から作ると大変なのでテンプレートを利用。&lt;/h5&gt;

&lt;h5 id='varwwwhtmlapache'&gt;※/var/www/html/はapacheのドキュメントルート&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# cd /var/www/html/jekyll
# git clone http://github.com/plusjade/jekyll-bootstrap.git JEKYLL_HOME&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='5jekyll'&gt;5.Jekyll起動&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# jekyll --server --auto

WARNING: Could not read configuration. Using defaults (and options).
No such file or directory - /root/_config.yml
Auto-regenerating enabled: /root -&amp;gt; /root/_site

# 起動失敗…
# エラーメッセージを見ると、_config.ymlが見つからないと言っている。

# Jekyll Bootstrapを配置したディレクトリへ移動して起動すると成功。
# cd /var/www/html/jekyll/JEKYLL_HOME
# jekyll --server --auto
Configuration from /var/www/html/jekyll/JEKYLL_HOME/_config.yml
Auto-regenerating enabled: /var/www/html/jekyll/JEKYLL_HOME -&amp;gt; /var/www/html/jekyll/JEKYLL_HOME/_site

# ブラウザで下記URLへアクセスすると初期画面が表示される。(localhostの部分は環境によって読み替える)
# http://localhost:4000/

# 後は下記ディレクトリに記事ファイルを追加していく。
# /var/www/html/jekyll/JEKYLL_HOME/_posts/YYYY-MM-DD-*.md&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id='6github'&gt;6.GitHubへアップ&lt;/h4&gt;

&lt;h5 id='githtmlgithubpush'&gt;任意のディレクトリをGitの作業ツリーにして、そこからHTMLをGitHubへPushする。&lt;/h5&gt;

&lt;h5 id='id6'&gt;&lt;code&gt;【注意】/var/www/html/jekyll/JEKYLL_HOME/_site/ を作業ツリーにするとJekyllを起動する度に.gitが削除されるので適さない。&lt;/code&gt;&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;# Jekyllが生成したHTMLをGit作業ツリー(任意のディレクトリ)へコピーする。
# cp -pr /var/www/html/jekyll/JEKYLL_HOME/_site/* /var/www/html/sankame.github.com/
# cd /var/www/html/sankame.github.com
# git init
# git add .
# git commit -m &amp;quot;initial commit.&amp;quot;
# git remote add origin git@github.com:Sankame/sankame.github.com.git
# git fetch
# git merge -s ours origin/master
# git push&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Jekyll Tips1</title>
   <link href="http://sankame.github.com/Jekyll/2012/12/17/jekyll_tips1"/>
   <updated>2012-12-17T00:00:00+09:00</updated>
   <id>http://sankame.github.com/Jekyll/2012/12/17/jekyll_tips1</id>
   <content type="html">&lt;p&gt;投稿日：&lt;span&gt;2012年12月17日&lt;/span&gt;&lt;br /&gt; &lt;script type='text/javascript'&gt;&lt;!--
google_ad_client = &quot;ca-pub-7590393515441008&quot;;
/* TextBlogCenterTop */
google_ad_slot = &quot;5898581108&quot;;
google_ad_width = 468;
google_ad_height = 60;
//--&gt;
&lt;/script&gt; &lt;script type='text/javascript' src='http://pagead2.googlesyndication.com/pagead/show_ads.js'&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;h4 id='jekyll'&gt;Jekyllの設定に関するメモ。&lt;/h4&gt;

&lt;h4 id='jekyllbootstrap'&gt;JekyllBootstrapの配置先は下記ディレクトリ。(&lt;a href='/Jekyll/2012/12/23/jekyll_and_github/'&gt;関連記事&lt;/a&gt;)&lt;/h4&gt;

&lt;h5 id='varwwwhtmljekylljekyll_home'&gt;/var/www/html/jekyll/JEKYLL_HOME/&lt;/h5&gt;

&lt;h6 id='id1'&gt;・画面ヘッダ部分のナビゲーションを変更したい。&lt;/h6&gt;

&lt;pre&gt;&lt;code&gt;(例)
画面ヘッダ部分にArchiveを表示したくない場合
下記ファイルのヘッダ部分の&amp;quot;group: navigation&amp;quot;を#でコメントアウトする。
/var/www/html/jekyll/JEKYLL_HOME/archive.html&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id='id2'&gt;・記事タイトルに日本語を使いたい。&lt;/h6&gt;

&lt;pre&gt;&lt;code&gt;記事のファイル名に日本語は使えないので、YAMLのFront Matterでtitleを指定する。
(例)
---
layout: page
category: Jekyll
tags: [Ruby, RubyGems, Jekyll, GitHub]
date: 2012-12-23 00:00:00
title: Jekyllとgithubでブログ作成
---&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id='id3'&gt;・ループ回数を制限したい。&lt;/h6&gt;

&lt;pre&gt;&lt;code&gt;limitを使う。

(例)最近の5件だけ記事を表示。

&amp;lt;ul class=&amp;quot;posts&amp;quot;&amp;gt;
  {% for post in site.posts limit:5 %}
    &amp;lt;li&amp;gt;&amp;lt;span&amp;gt;{{ post.date | date_to_string }}&amp;lt;/span&amp;gt; &amp;amp;raquo; &amp;lt;a href=&amp;quot;{{ BASE_PATH }}{{ post.url }}&amp;quot;&amp;gt;{{ post.title }}&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
  {% endfor %}
&amp;lt;/ul&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id='liquid'&gt;・liquidの文法をエスケープしたい。&lt;a href='http://stackoverflow.com/questions/3426182/how-to-escape-liquid-template-tags'&gt;参考ページ&lt;/a&gt;&lt;/h6&gt;

&lt;pre&gt;&lt;code&gt;Markdownの中でif文やliquidの文法をそのまま出力したい場合、下記のタグを使用する。

{% raw %}
エスケープしたい表現
{% endraw %}&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id='id4'&gt;・日付のフォーマット(書式)を変更したい。&lt;a href='http://stackoverflow.com/questions/7395520/jekyll-date-format'&gt;参考ページ&lt;/a&gt;&lt;/h6&gt;

&lt;pre&gt;&lt;code&gt;日本語を使う場合、ファイルをUTF8で保存する。

(例)

{ post.date | date: &amp;quot;%Y年%m月%d日&amp;quot; }&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id='id5'&gt;・文法に関する参考ページ&lt;/h6&gt;

&lt;p&gt;・&lt;a href='https://github.com/mojombo/jekyll/wiki/template-data'&gt;Jekyll変数&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;・&lt;a href='https://github.com/shopify/liquid/wiki/liquid-for-designers'&gt;liquid文法&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;・&lt;a href='http://technetium.matrix.jp/markdown.html'&gt;Markdown記法1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;・&lt;a href='http://www.zone0.ne.jp/2011/markdown-cheatsheet.html'&gt;Markdown記法2&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 
</feed>