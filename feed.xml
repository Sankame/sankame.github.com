<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">プログラマー備忘録</title>
<generator uri="https://github.com/mojombo/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="/feed.xml" />
<link rel="alternate" type="text/html" href="" />
<updated>2017-03-19T11:17:37-04:00</updated>
<id>/</id>
<author>
  <name>sankame</name>
  <uri>/</uri>
  <email>m2ad0504@outlook.jp</email>
</author>


<entry>
  <title type="html"><![CDATA[Hugoクイックスタート]]></title>
 <link rel="alternate" type="text/html" href="/hugo/hugo_quickstart/" />
  <id>/hugo/hugo_quickstart</id>
  <published>2017-03-18T20:00:00-04:00</published>
  <updated>2017-03-18T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2017年03月18日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[Mac] 10.11.6
[Hugo] 0.19
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1.インストール&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ここ数年、ブログウェアはjekyllを使ってましたが、下記の点が不便だったので、評判の良いHugoを試してみました。まずはサンプルを動かすところまで。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;初期構築やバージョンアップが大変だったので、他のPCに環境を作る気になれない。(今ならDockerという手もありますが…)&lt;/li&gt;
&lt;li&gt;記事の生成に時間がかかるようになってきた。&lt;/li&gt;
&lt;li&gt;記事の更新後、2～3回リロードしないとブラウザに反映されない。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://gohugo.io/tutorials/installing-on-mac/&quot; target=&quot;_blank&quot;&gt;インストール・マニュアル&lt;/a&gt;に従って進めました。&lt;/p&gt;

&lt;p&gt;僕の場合、Homebrewは既に入っていたのでStep2からやりました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew update

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install hugo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;「インストール後にバージョンを調べてね」と書いてあるので念のためチェックです。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ls -l &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt; which hugo &lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
lrwxr-xr-x  &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; mx  admin  &lt;span class=&quot;m&quot;&gt;28&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;19&lt;/span&gt; 03:08 /usr/local/bin/hugo -&amp;gt; ../Cellar/hugo/0.19/bin/hugo

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;hugo version
Hugo Static Site Generator v0.19 darwin/amd64 BuildDate: 2017-02-27T19:21:29+09:00
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2行とも0.19なので問題なさそうです。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2.サンプル作成&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://gohugo.io/overview/quickstart/&quot; target=&quot;_blank&quot;&gt;こちらのページ&lt;/a&gt;に沿ってサンプルを作成しました。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;適当なディレクトリで下記を実行します。(僕の場合 /app/hugo-test/ なので読み替えて下さい)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /app/hugo-test/

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;hugo new site bookshelf

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;bookshelf/

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;tree -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;目的別のディレクトリが作成されていると思います。&lt;/p&gt;

&lt;p&gt;treeコマンドが使えない場合、下記でインストールしましょう。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install tree
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;サンプル記事を作成します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;hugo new post/good-to-great.md
/app/hugo-test/bookshelf/content/post/good-to-great.md created
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;さらにGitHubから適当なテーマを取得。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;themes/

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone https://github.com/dim0627/hugo_theme_robust.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;bookshelfディレクトリへ戻った後、テーマと下書きモードを指定してビルトインサーバーを起動します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ..

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;hugo server --theme&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hugo_theme_robust --buildDrafts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ブラウザで下記URLにアクセスすると、先ほど作った&amp;quot;good to great&amp;quot;という記事が表示されました。(テンプレートは日本人デザイナー作！)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:1313/&quot; target=&quot;_blank&quot;&gt;http://localhost:1313/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/hugo_quickstart/hugo-init.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;xxx&quot; alt=&quot;xxx&quot; src=&quot;/assets/posts/img/hugo_quickstart/hugo-init.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3.サンプル更新&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;次に記事を更新してみます。&lt;/p&gt;

&lt;p&gt;そのままbookshelfディレクトリでファイルを開きます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vim content/post/good-to-great.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;適当に書き込むと…&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;+++
&lt;span class=&quot;nv&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;2017-03-19T03:39:26+09:00&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;good to great&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;draft&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;

+++

ここに記事を書いていく。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;画面に反映されました。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/hugo_quickstart/hugo-edit.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;xxx&quot; alt=&quot;xxx&quot; src=&quot;/assets/posts/img/hugo_quickstart/hugo-edit.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;記事を編集するとブラウザのリロードも自動でやってくれるので便利です。&lt;/p&gt;

&lt;p&gt;ChromeのDeveloper Toolsで見ると、自動リロードはWebSocketを使っているようですね。(オレンジの枠線)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/hugo_quickstart/hugo-websocket.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;xxx&quot; alt=&quot;xxx&quot; src=&quot;/assets/posts/img/hugo_quickstart/hugo-websocket.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/hugo/hugo_quickstart/&quot;&gt;Hugoクイックスタート&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on March 18, 2017.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Webサイト・スピードアップ - gulp]]></title>
 <link rel="alternate" type="text/html" href="/website-optimization/speed_up_website_gulp/" />
  <id>/website-optimization/speed_up_website_gulp</id>
  <published>2017-02-25T19:00:00-05:00</published>
  <updated>2017-02-25T19:00:00-05:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color:#d14; float:right;&quot;&gt;更新日：2017年03月07日&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2017年02月25日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;フロントエンドの話なのでサーバー環境はあまり関係ないのですが、参考まで。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;サーバー&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[Nginx] 1.10.2
[Kitura] 1.1.2
[Swift] 3.0.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ローカル&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[Mac] 10.11.6
[Node.js] 7.6.0
[gulp] 3.9.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;1.準備&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;仕事でやっているWebサイトのスピードアップを個人でもやってみたくて、適当なページを1つ作ってみました。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jyear.net/cal/&quot; target=&quot;_blank&quot;&gt;シンプルカレンダー&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;そしてパフォーマンス改善の教科書に選んだのはこちらです。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.codeproject.com/Articles/26376/Speed-Up-Your-Website-By-Example&quot; target=&quot;_blank&quot;&gt;Speed Up Your Website&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2.現状&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Apacheで運用しているWebアプリが他にあるため、下記のようなちょっと珍しい構成になっています。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Nginx(リバースプロキシとして使用) + ServerSide-Swift(Kitura)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;僕のネット環境(下り57Mbps/上り18Mbps)&lt;font color=&quot;green&quot;&gt;(※1)&lt;/font&gt;だとシンプルカレンダーのロードタイムが約2.5秒&lt;font color=&quot;green&quot;&gt;(※2)&lt;/font&gt;でそこまでストレスは感じませんが、DBを使ってないわりにこの数字なので改善の余地ありです。&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;(※1)&lt;/font&gt; 回線速度は&lt;a href=&quot;http://www.speedtest.net/&quot; target=&quot;_blank&quot;&gt;SPEEDTEST&lt;/a&gt;で計測。&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;(※2)&lt;/font&gt; Chrome Developer Tools で計測。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3.ブラウザからのリクエスト削減&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Chrome Developer ToolsのNetworkタブで見るとCSS、JavaScript(以下JS)のダウンロードに時間がかかっているので、教科書の[1. Reduce number of HTTP requests]-[Combine files]から取り掛かってみました。&lt;/p&gt;

&lt;p&gt;HTMLから静的ファイル(CSS、JSなど)を複数ダウンロードする際、ブラウザが並列でリクエストできる数が決まっているため、なるべくそれを減らしましょうという内容です。&lt;/p&gt;

&lt;p&gt;複数の静的ファイルをまとめるためのツール&lt;font color=&quot;green&quot;&gt;(※3)&lt;/font&gt;を検討しましたが、一番簡単に実現できそうだったgulpを使いました。&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;(※3)&lt;/font&gt; webpack、gulp、Grunt&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;4.Node.jsの準備&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Node.jsのバージョンを切り替えられるよう、nodebrew を使いたいと思います。(既にNode.jsをインストール済みの場合、読み飛ばしてもOKです)&lt;/p&gt;

&lt;p&gt;HomebrewでNode.jsをインストール済みの場合は一度アンインストール。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew uninstall node
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;nodebrewをインストール。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install nodebrew
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;nodebrewへのパスを通すため、.bashrcの末尾に下記を追記。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vim ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;c&quot;&gt;# これを追記&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.nodebrew/current/bin:&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;設定を反映します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Node.jsインストール。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nodebrew install-binary latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;エラーが出たので、&lt;a href=&quot;https://blog.yug1224.com/archives/5693a5e0fef2539c7d5b149d&quot; target=&quot;_blank&quot;&gt;このページ&lt;/a&gt;に従ってディレクトリを作成。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mkdir ~/.nodebrew
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mkdir ~/.nodebrew/src
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用するNode.jsのバージョンを指定。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nodebrew ls
v7.6.0

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;nodebrew use v7

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;node -v
v7.6.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;5.gulpの準備&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;gulpをインストール。&lt;/p&gt;

&lt;p&gt;自分だけのローカル環境なのでグローバル(-g)を指定してインストール。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install -g gulp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;アプリ(プロジェクト)のルートディレクトリで下記を実行すると、package.jsonファイルが作成されます。(これにパッケージ情報が書き込まれる)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;そのままgulpとgulpのプラグインをインストールし、&amp;quot;--save-dev&amp;quot;を付けることでpackage.jsonに記録します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install --save-dev gulp
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install --save-dev gulp-concat gulp-uglify gulp-minify-css
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;アプリのルートディレクトリに gulpfile.js というファイルを作成し、こちらの内容を記入します。(パスは自分の環境に読み替えて下さい)&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/db5caad7d75a4064ef98f140a39de5bc.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;続けて下記コマンドを打つと指定したディレクトリに結合・圧縮したCSS、JSファイルが出力されます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gulp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;HTMLからはそれらを読み込むよう修正します。(上記の例ではbundle.css、bundle.js)&lt;/p&gt;

&lt;p&gt;イメージはこんな感じです。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/speed_up_website_gulp/gulp_image.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;gulpイメージ&quot; alt=&quot;gulpイメージ&quot; src=&quot;/assets/posts/img/speed_up_website_gulp/gulp_image.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ブラウザでJSエラー発生。&lt;/p&gt;

&lt;p&gt;修正後の画面をブラウザで確認したところ下記エラーが表示されました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Bootstrap&amp;#39;s JavaScript requires jQuery
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;どうやら上記の書き方だと、CSSやJSの読み込み順序が任意になり、BootstrapでjQueryが使えない状態になってるようです。&lt;/p&gt;

&lt;p&gt;もともとHTMLに書いてあったのと同じ順序でCSSとJSを指定するとエラーは出なくなりました。&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/86e56663930ec4b8a2b0c187a7b66d61.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;(IE9以下の指定で読み込んでいたJSもとりあえず含んでいます)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;6.バックエンドとの接続不良&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;本番へアップすると、数回に一回、ブラウザ側でエラーが発生しました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;GET https://jyear.net/simple-cal/js/dist/bundle.js net::ERR_CONTENT_LENGTH_MISMATCH
(index):47 GET https://jyear.net/simple-cal/css/dist/bundle.css net::ERR_CONTENT_LENGTH_MISMATCH
(index):2196 Uncaught ReferenceError: $ is not defined
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;このエラーが起きるとNginxでは下記のログが出力されていました。(【】はマスク)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;upstream prematurely closed connection &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; reading upstream, client: 【IP】, server: jyear.net, request: &lt;span class=&quot;s2&quot;&gt;&amp;quot;GET /simple-cal/css/dist/bundle.css HTTP/1.1&amp;quot;&lt;/span&gt;, upstream: &lt;span class=&quot;s2&quot;&gt;&amp;quot;http://【ホスト名】/simple-cal/css/dist/bundle.css&amp;quot;&lt;/span&gt;, host: &lt;span class=&quot;s2&quot;&gt;&amp;quot;jyear.net&amp;quot;&lt;/span&gt;, referrer: &lt;span class=&quot;err&quot;&gt;&amp;quot;&lt;/span&gt;https://jyear.net/cal/“
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;いろいろネットで調べたところ、バックエンドから接続が切られるとこのエラーがでるようです。&lt;/p&gt;

&lt;p&gt;Nginxのproxy_connect_timeoutや、Kituraにタイムアウト設定があるか調べたのですが、解決策が見つからなかったため、1つにしていたbundleファイルを分割することにしました。&lt;/p&gt;

&lt;p&gt;分割して1ファイル当たりのサイズを抑えることでエラーは出なくなりました。&lt;/p&gt;

&lt;p&gt;(そもそも1ファイル約200KBだったのでWebで扱うには大きかった…)&lt;/p&gt;

&lt;p&gt;最終的な gulpfile.js はこちらです。&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/4167aaa3bfdbc4cc46f3b6a926f0ed25.js&quot;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;7.結果&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ここまでやって前後の比較をしたところ、Chromeで下記の結果になりました。&lt;/p&gt;

&lt;table border=&quot;1&quot; cellspacing=&quot;0&quot;&gt;
&lt;tr bgcolor=&quot;#fff5ee&quot;&gt;&lt;th width=&quot;20%&quot;&gt;&lt;/th&gt;&lt;th&gt;Before&lt;/th&gt;&lt;th&gt;After&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Load&lt;br&gt;(5回の平均)&lt;/td&gt;&lt;td&gt;2.2秒&lt;/td&gt;&lt;td&gt;1.6秒&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;転送量&lt;/td&gt;&lt;td&gt;518KB&lt;/td&gt;&lt;td&gt;451KB&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;リクエスト数&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;また、他の計測ツールとしてGTmetrixを使おうとしたのですが、エラーになってしまったため、LighthouseというChrome Extensionを利用しました。&lt;/p&gt;

&lt;p&gt;Lighthouseによる計測結果の詳細はこちら。&lt;a href=&quot;/assets/posts/html/speed_up_website_gulp/gulp_before.html&quot; target=&quot;_blank&quot;&gt;Before&lt;/a&gt;　&lt;a href=&quot;/assets/posts/html/speed_up_website_gulp/gulp_after.html&quot; target=&quot;_blank&quot;&gt;After&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;quot;Page load performance&amp;quot;の改善でトータル・スコアも若干上がりました。(42→44)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/website-optimization/speed_up_website_gulp/&quot;&gt;Webサイト・スピードアップ - gulp&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on February 25, 2017.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Swift3の大文字・小文字処理]]></title>
 <link rel="alternate" type="text/html" href="/swift/swift3_uppercase_lowercase/" />
  <id>/swift/swift3_uppercase_lowercase</id>
  <published>2017-01-02T19:00:00-05:00</published>
  <updated>2017-01-02T19:00:00-05:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color:#d14; float:right;&quot;&gt;更新日：2017年01月27日&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2017年01月02日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[Swift] 3.0.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 大文字・小文字処理&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Swift3から大文字・小文字の処理は下記のようになります。&lt;/p&gt;

&lt;p&gt;(明示的にするため入れていますが型宣言は省略可)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/f04ea8d3f243763248ab236c2a33fb69.js&quot;&gt;&lt;/script&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;上記コードはIBM Swift Sandboxで動かせます。&lt;/p&gt;

&lt;p&gt;下記リンク先の真ん中にある三角ボタンをクリックして下さい。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://swiftlang.ng.bluemix.net/#/repl/586d095a159cb34b17238967&quot; target=&quot;_blank&quot;&gt;Swift3で大文字・小文字処理&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(ChromeまたはFirefox推奨)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/reference/foundation/nsstring/1414769-caseinsensitivecompare&quot; target=&quot;_blank&quot;&gt;caseInsensitiveCompare&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/reference/foundation/nsstring/1417333-localizedcaseinsensitivecompare&quot; target=&quot;_blank&quot;&gt;localizedCaseInsensitiveCompare&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/swift/swift3_uppercase_lowercase/&quot;&gt;Swift3の大文字・小文字処理&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on January 02, 2017.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Swift3のforループ]]></title>
 <link rel="alternate" type="text/html" href="/swift/swift3_loop/" />
  <id>/swift/swift3_loop</id>
  <published>2016-12-29T19:00:00-05:00</published>
  <updated>2016-12-29T19:00:00-05:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color:#d14; float:right;&quot;&gt;更新日：2017年02月09日&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年12月29日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[Swift] 3.0.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. ループ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Swift3からループ処理は下記のようになります。&lt;/li&gt;
&lt;/ul&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/2f608da7dbbc9313462a1bb4cbc0c1d0.js&quot;&gt;&lt;/script&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;上記コードはIBM Swift Sandboxで実際に動かすことができます。&lt;/p&gt;

&lt;p&gt;下記リンク先の真ん中にある三角ボタンをクリックして下さい。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://swiftlang.ng.bluemix.net/#/repl/589b400e3514ef243889d092&quot; target=&quot;_blank&quot;&gt;Swift3でのforループ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(ChromeまたはFirefox推奨)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/swift/swift3_loop/&quot;&gt;Swift3のforループ&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on December 29, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[ApacheのProxyPassでhtmlタグがそのまま表示される]]></title>
 <link rel="alternate" type="text/html" href="/apache/mod_proxy_text_plain/" />
  <id>/apache/mod_proxy_text_plain</id>
  <published>2016-12-24T19:00:00-05:00</published>
  <updated>2016-12-24T19:00:00-05:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年12月24日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[CentOS] 6.8 (64bit版カーネル)
[Apache] 2.2.15
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ApacheのProxyPassディレクティブ(mod_proxy)を指定して、バックエンドから受け取ったコンテンツを表示しようとするとhtmlタグがそのまま表示されてしまいます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Apache設定ファイルの抜粋&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-apache&quot; data-lang=&quot;apache&quot;&gt;&lt;span class=&quot;nb&quot;&gt;NameVirtualHost&lt;/span&gt; *:80

&lt;span class=&quot;c&quot;&gt;# 省略&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;*:80&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;ServerAdmin&lt;/span&gt; test@local
    &lt;span class=&quot;nb&quot;&gt;ServerName&lt;/span&gt; test.local

    &lt;span class=&quot;nb&quot;&gt;ProxyPreserveHost&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;On&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;ProxyPass&lt;/span&gt; / http://127.0.0.1:8080/
    &lt;span class=&quot;nb&quot;&gt;ProxyPassReverse&lt;/span&gt; / http://127.0.0.1:8080/

    &lt;span class=&quot;nb&quot;&gt;ErrorLog&lt;/span&gt; logs/test.local-error_log
    &lt;span class=&quot;nb&quot;&gt;CustomLog&lt;/span&gt; logs/test.local-access_log combined
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 対策&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ChromeのDeveloper Toolsなどで見ると、下記のようにHTTPレスポンスヘッダーで平文が指定されています。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Content-Type text/plain; charset=UTF-8&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;デフォルトのMIMEタイプ指定を無効にすることで解消しました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Apache設定ファイルの抜粋&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-apache&quot; data-lang=&quot;apache&quot;&gt;&lt;span class=&quot;nb&quot;&gt;NameVirtualHost&lt;/span&gt; *:80

&lt;span class=&quot;c&quot;&gt;# 省略&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;*:80&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;ServerAdmin&lt;/span&gt; test@local
    &lt;span class=&quot;nb&quot;&gt;ServerName&lt;/span&gt; test.local

    &lt;span class=&quot;c&quot;&gt;# ----- この行を追加 ----- &lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;DefaultType&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;None&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# ----- この行を追加 ----- &lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;ProxyPreserveHost&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;On&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;ProxyPass&lt;/span&gt; / http://127.0.0.1:8080/
    &lt;span class=&quot;nb&quot;&gt;ProxyPassReverse&lt;/span&gt; / http://127.0.0.1:8080/

    &lt;span class=&quot;nb&quot;&gt;ErrorLog&lt;/span&gt; logs/test.local-error_log
    &lt;span class=&quot;nb&quot;&gt;CustomLog&lt;/span&gt; logs/test.local-access_log combined
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3. 参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/5034131/mod-proxy-ajp-error-renders-html-as-text-plain-prompts-user-to-save-as&quot; target=&quot;_blank&quot;&gt;mod&lt;em&gt;proxy&lt;/em&gt;ajp error: renders html as text/plain, prompts user to “save as…”&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/apache/mod_proxy_text_plain/&quot;&gt;ApacheのProxyPassでhtmlタグがそのまま表示される&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on December 24, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[WCSession#sendMessage()の代わりにupdateApplicationContext()を使う際の注意点]]></title>
 <link rel="alternate" type="text/html" href="/applewatch/wcsession_sendmessage_slow_in_swift3/" />
  <id>/applewatch/wcsession_sendmessage_slow_in_swift3</id>
  <published>2016-11-20T19:00:00-05:00</published>
  <updated>2016-11-20T19:00:00-05:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年11月20日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.6
[IDE] Xcode 8.1
[Swift] 3.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;WCSession#sendMessage()を使ってAppleWatchからiPhoneアプリへメッセージを送っても、30秒ほどしないと通知されない。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AppleWatch側&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;IBAction&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tapButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;fromChild&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;AppleWatchからのメッセージ&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;replyHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reply&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;errorHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;iPhone側&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;didReceiveMessage&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;replyHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;escaping&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;watchMessage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fromChild&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;watchMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;error&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 対策&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;replyHandlerを設定するなど、いろいろ情報はあったのですが、結局 sendMessage() を諦め、updateApplicationContext() を使うことにしました。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ただ updateApplicationContext() は状態が変わった際に通知するためのメソッドなので、二回目以降の値が変わらないとiPhone側のメソッドが呼び出されません。&lt;/p&gt;

&lt;p&gt;API仕様書には明記されていませんがそのような動きをしています。(「3. 参考ページ」参照)&lt;/p&gt;

&lt;p&gt;ですので、sendMessage() と同じように使いたい場合は、毎回変わる値をダミーとして設定すると実現できます。(多少強引ですが、下記例では時間を設定しています)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AppleWatch側&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;IBAction&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tapButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dateFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DateFormatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dateFormatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;identifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ja_JP&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dateFormatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeStyle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;medium&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dateFormatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dateStyle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;medium&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Dictionary&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;AppleWatchからのメッセージ&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;date&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dateFormatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;NSDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;fromChild&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;updateApplicationContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;iPhone側&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;didReceiveApplicationContext&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;applicationContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;DispatchQueue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;watchMessage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;applicationContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fromChild&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Dictionary&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;watchMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3. 参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/reference/watchconnectivity/wcsession&quot; target=&quot;_blank&quot;&gt;API Reference WCSession&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/applewatch/wcsession_sendmessage_slow_in_swift3/&quot;&gt;WCSession#sendMessage()の代わりにupdateApplicationContext()を使う際の注意点&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on November 20, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Type 'ViewController' does not conform to protocol 'WCSessionDelegate']]></title>
 <link rel="alternate" type="text/html" href="/swift/wcsessiondelegate_in_swift3/" />
  <id>/swift/wcsessiondelegate_in_swift3</id>
  <published>2016-11-14T19:00:00-05:00</published>
  <updated>2016-11-14T19:00:00-05:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年11月14日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.6
[IDE] Xcode 8.1
[Swift] 3.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;iPhone &amp;amp; AppleWatchアプリを作成中にSwiftを2.2から3へバージョンアップしたところ、iPhone側で下記のエラーが出るようになりました。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Type &amp;#39;ViewController&amp;#39; does not conform to protocol &amp;#39;WCSessionDelegate&amp;#39;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 解決&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ViewControllerに下記メソッドを追加するとエラーが消えました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activationDidCompleteWith&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;activationState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSessionActivationState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sessionDidBecomeInactive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sessionDidDeactivate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WCSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;activate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下記の仕様書にもこれらのメソッドは必須と書かれています。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/reference/watchconnectivity/wcsessiondelegate&quot; target=&quot;_blank&quot;&gt;[API Reference] WCSessionDelegate&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3. 参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://forums.developer.apple.com/thread/63452&quot; target=&quot;_blank&quot;&gt;Migrating app from Swift 2.2 to 3.0 with WCSessionDelegate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/swift/wcsessiondelegate_in_swift3/&quot;&gt;Type &#39;ViewController&#39; does not conform to protocol &#39;WCSessionDelegate&#39;&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on November 14, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Eclipseでタブをスペースに置換]]></title>
 <link rel="alternate" type="text/html" href="/eclipse/convert_tabs_to_spaces_on_eclipse/" />
  <id>/eclipse/convert_tabs_to_spaces_on_eclipse</id>
  <published>2016-10-07T20:00:00-04:00</published>
  <updated>2016-10-07T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年10月07日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[Eclipse] Mars.2 Release (4.5.2)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;久々にEclipseをさわっていたら、タブをスペースに変換する設定に手間取ったのでメモ。&lt;/p&gt;

&lt;p&gt;(Windowsでもメニュー名を読み替えて頂くと使えます)&lt;/p&gt;

&lt;p&gt;プログラミングで使うインデントに関して、僕はタブ派ですが、職場や&lt;a href=&quot;http://www.gizmodo.jp/2016/09/tab-vs-space.html&quot; target=&quot;_blank&quot;&gt;最近の流れ&lt;/a&gt;からしてもスペースを使わざるを得ないでしょう。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 解決&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Eclipseに標準でついている機能が動かなかったので、AnyEditToolsというプラグインを入れました。&lt;/p&gt;

&lt;p&gt;メニューの [ヘルプ]-[Install new software] をクリック。&lt;/p&gt;

&lt;p&gt;[作業対象]に下記を入力。(anyぐらいまで打つと補完されます)&lt;/p&gt;

&lt;p&gt;&lt;code&gt;anyedit - http://andrei.gmxhome.de/eclipse/&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;とりあえず最新バージョンのAnyEditToolsにチェック。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/convert_tabs_to_spaces_on_eclipse/install.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;インストール&quot; alt=&quot;インストール&quot; src=&quot;/assets/posts/img/convert_tabs_to_spaces_on_eclipse/install.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[次へ]をクリック。&lt;/p&gt;

&lt;p&gt;途中ライセンスへの同意やセキュリティ警告が出ますが、最後までいくと再起動を求められるのでそのままOKをクリックします。&lt;/p&gt;

&lt;p&gt;起動後、Eclipse上で任意のファイルにタブを入力し、保存したタイミングでスペースに置換されます。&lt;/p&gt;

&lt;p&gt;変わらない場合や細かい設定をしたい場合は下記の設定画面から行って下さい。&lt;/p&gt;

&lt;p&gt;メニューの [Eclipse]-[環境設定] をクリック。&lt;/p&gt;

&lt;p&gt;[一般]-[エディタ]-[AnyEdit Tools]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/convert_tabs_to_spaces_on_eclipse/settings.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;設定&quot; alt=&quot;設定&quot; src=&quot;/assets/posts/img/convert_tabs_to_spaces_on_eclipse/settings.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Eclipseでマークダウンを書く人は[Remove trailing whitespace]のチェックを外しておいたほうがいいかもしれません。&lt;/p&gt;

&lt;p&gt;ファイルフィルタ(上記の[Add Filter])で拡張子mdを除外したり、プロジェクトごとに設定&lt;font color=&quot;green&quot;&gt;(*1)&lt;/font&gt;を変えることもできます。&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;(*1)プロジェクトごとの設定&lt;/font&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;プロジェクト・エクスプローラーの該当プロジェクトを右クリック。&lt;/li&gt;
&lt;li&gt;[プロパティ]-[AnyEdit Tools] をクリック。&lt;/li&gt;
&lt;li&gt;[Enable project specific settings]にチェックを入れる。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/eclipse/convert_tabs_to_spaces_on_eclipse/&quot;&gt;Eclipseでタブをスペースに置換&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on October 07, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[型 UrlValidator は使用すべきではありません]]></title>
 <link rel="alternate" type="text/html" href="/java/urlvalidator-is-deprecated/" />
  <id>/java/urlvalidator-is-deprecated</id>
  <published>2016-10-05T20:00:00-04:00</published>
  <updated>2016-10-05T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年10月05日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[Java] 1.8.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;久々にJavaで実装する機会がありました。標準ライブラリのjava.net.URLクラスは、URLとして解釈できない文字列を渡すと例外が投げられるので扱いずらいですね。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// IllegalArgumentException が発生。&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;不正なURL&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;うーん、最初、RFCを見て「URLとして許可されている文字列だけ渡す」という処理を入れようか迷いました。&lt;/p&gt;

&lt;p&gt;が、一から組むのも骨が折れるなあ～と思って、困った時の&lt;a href=&quot;https://commons.apache.org/&quot; target=&quot;_blank&quot;&gt;Apache Commons&lt;/a&gt;を探してみたら、しめしめ&lt;a href=&quot;https://commons.apache.org/proper/commons-validator/download_validator.cgi&quot; target=&quot;_blank&quot;&gt;Apache Commons Validator&lt;/a&gt;にUrlValidatorクラスというのがありました。&lt;/p&gt;

&lt;p&gt;早速このクラスをimportして使おうと思ったら、下記の警告が出てしまいました。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;型 UrlValidator は使用すべきではありません&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 解決&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;調べてみたところ、①のパッケージは非推奨で②に変えたら警告も消えました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;①こっちは非推奨&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.validator.UrlValidator;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;font color=&quot;green&quot;&gt;②これを使って！&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.validator.routines.UrlValidator;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3. 参考&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/14274919/the-type-urlvalidator-is-deprecated&quot; target=&quot;_blank&quot;&gt;The type UrlValidator is deprecated&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/java/urlvalidator-is-deprecated/&quot;&gt;型 UrlValidator は使用すべきではありません&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on October 05, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[.gitignoreをaddできない]]></title>
 <link rel="alternate" type="text/html" href="/git/how-to-add-gitignore/" />
  <id>/git/how-to-add-gitignore</id>
  <published>2016-08-20T20:00:00-04:00</published>
  <updated>2016-08-20T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年08月20日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[git] 2.7.4 (Apple Git-66)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;アプリのルートディレクトリに.gitignoreをおいたのですが、git status で見ても追加対象として出てきません。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 解決&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;最初(A)のように書いていたのですが、これだとダメで、[除外設定]→[例外] の順に書かないといけないようです。&lt;/p&gt;

&lt;p&gt;(「. が先頭にあるファイルは除外してね」→「但し .gitignore は例外だよ」)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(A) 修正前&lt;/li&gt;
&lt;/ul&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/5918ea08bcdc09322907a34434277f08.js&quot;&gt;&lt;/script&gt;

&lt;ul&gt;
&lt;li&gt;(B) 修正後&lt;/li&gt;
&lt;/ul&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/dc68236f9088ca8964f43009cae285cd.js&quot;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/git/how-to-add-gitignore/&quot;&gt;.gitignoreをaddできない&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on August 20, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[AppleWatchのアプリ開発でiOSアプリのデバッグ方法]]></title>
 <link rel="alternate" type="text/html" href="/applewatch/debug-ios-app-with-watchkit/" />
  <id>/applewatch/debug-ios-app-with-watchkit</id>
  <published>2016-08-06T20:00:00-04:00</published>
  <updated>2016-08-06T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年08月06日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[IDE] Xcode 7.3
[Swift] 2.1.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 課題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;AppleWatchのアプリ開発で「WatchKit App」を起動すると、iOSアプリのブレークポイントで停止しない。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 対策&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;XcodeのデバッガーにiOSアプリを手動で追加する必要があります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;「WatchKit App」を選択してアプリ実行。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/debug-ios-app-with-watchkit/1.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;xxx&quot; alt=&quot;xxx&quot; src=&quot;/assets/posts/img/debug-ios-app-with-watchkit/1.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;iOSアプリのシュミレーターで、iOSアプリを起動。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Xcodeに戻って [Debug]-[Attach to Process] からiOSアプリを選択。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/debug-ios-app-with-watchkit/2.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;xxx&quot; alt=&quot;xxx&quot; src=&quot;/assets/posts/img/debug-ios-app-with-watchkit/2.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;左のパネルで[Debug navigator]を選択し、下記①②でiOSアプリが選択されていることを確認。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/debug-ios-app-with-watchkit/3.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;xxx&quot; alt=&quot;xxx&quot; src=&quot;/assets/posts/img/debug-ios-app-with-watchkit/3.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/applewatch/debug-ios-app-with-watchkit/&quot;&gt;AppleWatchのアプリ開発でiOSアプリのデバッグ方法&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on August 06, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[ショートカットのファイルパス]]></title>
 <link rel="alternate" type="text/html" href="/windows/windows_shortcut_path/" />
  <id>/windows/windows_shortcut_path</id>
  <published>2016-07-15T20:00:00-04:00</published>
  <updated>2016-07-15T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年07月15日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Windows 7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 課題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ファイル(①)に対してショートカット(②)を作った場合・・・&lt;/p&gt;

&lt;p&gt;① C:\tmp\test.txt&lt;/p&gt;

&lt;p&gt;② C:\tmp2\test.txt - ショートカット&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;エクスプローラーやスタートメニューの「ファイル名を指定して実行」から②を指定してもエラーになります。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/windows_shortcut_path/exec-file.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;ショートカットのファイルパス&quot; alt=&quot;ショートカットのファイルパス&quot; src=&quot;/assets/posts/img/windows_shortcut_path/exec-file.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;これは下記のように &lt;font color=&#39;red&#39;&gt;&amp;quot;.lnk&amp;quot;&lt;/font&gt; をつけると解決します。&lt;/p&gt;

&lt;p&gt;&lt;font color=&#39;red&#39;&gt;C:\tmp2\test.txt - ショートカット.lnk&lt;/font&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OSの内部的にはこのパスになっているんだと思います・・・&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/windows/windows_shortcut_path/&quot;&gt;ショートカットのファイルパス&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on July 15, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[composer updateでUndefined indexエラー]]></title>
 <link rel="alternate" type="text/html" href="/composer/composer_error_undefined_index/" />
  <id>/composer/composer_error_undefined_index</id>
  <published>2016-06-24T20:00:00-04:00</published>
  <updated>2016-06-24T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年06月24日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[Laravel] 5.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. 問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;composer update を実行すると下記エラーが発生しました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;Writing lock file
Generating autoload files
&amp;gt; php artisan clear-compiled
  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ErrorException&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
  Undefined index: HTTP_HOST
Script php artisan clear-compiled handling the post-update-cmd event returned with error code 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 解決策&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;HTTP_HOST でソースをgrepし、 /app/Http/routes.php 内の下記箇所を修正しました。&lt;/p&gt;

&lt;p&gt;(修正前)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;$_SERVER[&amp;#39;HTTP_HOST&amp;#39;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(修正後)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;Request::server(&amp;#39;HTTP_HOST&amp;#39;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3. 参考&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/34055053/composer-returning-mysterious-error&quot; target=&quot;_blank&quot;&gt;Composer returning mysterious error&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/composer/composer_error_undefined_index/&quot;&gt;composer updateでUndefined indexエラー&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on June 24, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[トグル処理を楽に実装 (ビット演算)]]></title>
 <link rel="alternate" type="text/html" href="/programming-practice/bitwise_operator_toggle/" />
  <id>/programming-practice/bitwise_operator_toggle</id>
  <published>2016-05-26T20:00:00-04:00</published>
  <updated>2016-05-26T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月26日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[CentOS] 6.4 (64bit版カーネル)
[PHP] 5.4.17
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. XORでトグル処理&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;押すたびにON/OFFが切り替わるようなトグル処理を実装する場合はXORが便利です。&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/46005a2dc4fed64a807f9c15cbb8c010.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;6行目、11行目 : 「XOR 1」するとビットが反転する性質を利用します。(下記)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;XOR&lt;/b&gt;&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
&lt;tr&gt;&lt;td bgcolor=&quot;lightgray&quot;&gt;入力①&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td bgcolor=&quot;lightgray&quot;&gt;入力②&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td bgcolor=&quot;lightgray&quot;&gt;出力&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/programming-practice/bitwise_operator_toggle/&quot;&gt;トグル処理を楽に実装 (ビット演算)&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 26, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[状態管理を楽に実装 (ビット演算)]]></title>
 <link rel="alternate" type="text/html" href="/programming-practice/bitwise_operator_status_control/" />
  <id>/programming-practice/bitwise_operator_status_control</id>
  <published>2016-05-26T20:00:00-04:00</published>
  <updated>2016-05-26T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月26日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[CentOS] 6.4 (64bit版カーネル)
[PHP] 5.4.17
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. ORとANDで状態管理&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;複数の状態や権限をまとめて管理したい場合、2進数が便利です。&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/Sankame/5588e4ff2cec15e95d42592bd1746ba7.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;2-5行目 : 2進数の定数(10進数表記)を用意します。&lt;/p&gt;

&lt;p&gt;7行目 : ORでプログラミング言語を足していきます。&lt;/p&gt;

&lt;p&gt;Aさんが使える言語の位にビットが立つイメージです。(下記)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;    0001 (PHP)
    0010 (Ruby)
OR) 1000 (Perl)
----------
    1011 (Aさんが使えるプログラミング言語)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;11行目以降 : Aさんが使えるプログラミング言語は何か、ANDで問い合わせます。&lt;/p&gt;

&lt;p&gt;右端の位にビットが立っていれば結果がtrueになり、PHPが使えることが分かります。(下記)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;     1011 (Aさんが使えるプログラミング言語)
AND) 0001 (PHP)
----------
     0001 (PHPが使える)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/programming-practice/bitwise_operator_status_control/&quot;&gt;状態管理を楽に実装 (ビット演算)&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 26, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[Let's Encrypt - certbotコマンド]]></title>
 <link rel="alternate" type="text/html" href="/ssl-tls/letsencrypt_certbot_command/" />
  <id>/ssl-tls/letsencrypt_certbot_command</id>
  <published>2016-05-14T20:00:00-04:00</published>
  <updated>2016-05-14T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color:#d14; float:right;&quot;&gt;更新日：2016年08月06日&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月14日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0. 環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[CentOS] 6.4 (64bit版カーネル)
[Apache] 2.2.15
[Firefox] 46.0.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. Let&amp;#39;s Encryptのコマンド変更&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/ssl-tls/letsencrypt_renewal/&quot; target=&quot;_blank&quot;&gt;証明書を更新した際、&lt;/a&gt; 「letsencrypt-autoコマンドはもう古いよ」という警告が出たので、更新したいと思います。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2. 更新作業(【】はマスク情報)&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Let&amp;#39;s Encryptがβ版の時はgit cloneして /usr/local/src/letsencrypt ディレクトリを作成しましたが、今回はそれとは別ディレクトリを作成します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;c&quot;&gt;# cd /usr/local/src&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# git clone https://github.com/certbot/certbot&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# cd certbot&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;疑似実行したところ成功したようなので、証明書の期限が迫ってきたら dry-run なしで実行してみたいと思います。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;c&quot;&gt;# ./certbot-auto renew --dry-run&lt;/span&gt;

  ：
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;省略&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  ：
Congratulations, all renewals succeeded. The following certs have been renewed:
/etc/letsencrypt/live/【ドメイン名】/fullchain.pem &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;success&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
** DRY RUN: simulating &lt;span class=&quot;s1&quot;&gt;&amp;#39;certbot renew&amp;#39;&lt;/span&gt; close to cert expiry
**          &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;The &lt;span class=&quot;nb&quot;&gt;test &lt;/span&gt;certificates above have not been saved.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;font id=&quot;cron&quot; color=&quot;red&quot;&gt;(2016/08/06, 追記)&lt;/font&gt; &lt;a href=&quot;/ssl-tls/letsencrypt_renewal/#cron&quot; target=&quot;_blank&quot;&gt;&lt;font color=&quot;green&quot;&gt;dry-runなしでの実行結果はこちら&lt;/font&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;① &lt;a href=&quot;https://letsencrypt.org/getting-started/&quot; target=&quot;_blank&quot;&gt;Getting Started&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;② &lt;a href=&quot;https://www.eff.org/deeplinks/2016/05/announcing-certbot-new-tls-robot&quot; target=&quot;_blank&quot;&gt;Announcing Certbot: EFF&amp;#39;s Client for Let&amp;#39;s Encrypt&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/ssl-tls/letsencrypt_certbot_command/&quot;&gt;Let&#39;s Encrypt - certbotコマンド&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 14, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[watchOSのバージョンエラー]]></title>
 <link rel="alternate" type="text/html" href="/applewatch/watchos_devices_not_available/" />
  <id>/applewatch/watchos_devices_not_available</id>
  <published>2016-05-08T20:00:00-04:00</published>
  <updated>2016-05-08T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月08日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0.環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[IDE] Xcode 7.3
[iOS] 9.3
[watchOS] 2.1

※MacとiPhoneはUSBケーブルで接続。
※iPhoneとAppleWatchはペアリング済み。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1.問題 (文中【】はマスク)&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AppleWatch用のサンプルプログラムを実機で動かそうとしたら下記3つのエラーが出ました。&lt;/p&gt;

&lt;p&gt;&lt;b&gt;エラー1&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;A build only device cannot be used to run this target.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;No supported watchOS devices are available. Pair a device to run your application or choose a simulated device as the destination.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;エラー2&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Could not launch &amp;#39;【アプリ名】 WatchKit App&amp;#39; on 【iPhoneデバイス名】&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;OS version lower than deployment target&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;エラー3&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Can&amp;#39;t install application&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;【アプリ名】 WatchKit App.app cannot be installed on 【AppleWatchデバイス名】.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;The Info.plist in 【アプリ名】 WatchKit App.app specifies a minimum iOS version of 2.2 which is too high to be installed on 【AppleWatchデバイス名】.&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2.手順&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AppleWatch実機のOSバージョンとXcodeで指定しているターゲットバージョンが異なるようだったので、下記の変更を行ったら実機にインストールされました。&lt;/p&gt;

&lt;p&gt;プロジェクトナビゲーターで該当プロジェクトを選択。&lt;/p&gt;

&lt;p&gt;&amp;quot;Build Settings&amp;quot;を選択してターゲットを表示。&lt;font color=&quot;orange&quot;&gt;(A-1、A-2)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;watchOSのバージョンを実機に合わせます。(僕の場合2.2→2.1に変更) &lt;font color=&quot;orange&quot;&gt;(A-3)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;(&amp;quot;WatchKit App&amp;quot;の方を変更すると、&amp;quot;WatchKit Extension&amp;quot;の方も変わります)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/watchos_devices_not_available/change_the_version.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;ターゲットバージョン変更&quot; alt=&quot;ターゲットバージョン変更&quot; src=&quot;/assets/posts/img/watchos_devices_not_available/change_the_version.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;いくつかサンプルプログラムを作ってて、なぜこれだけターゲットバージョンがデフォルトで2.2になっていたのか不明です。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/applewatch/watchos_devices_not_available/&quot;&gt;watchOSのバージョンエラー&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 08, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[AppleWatch 開発中アプリの追加制限を回避]]></title>
 <link rel="alternate" type="text/html" href="/applewatch/unable_to_add_app_id/" />
  <id>/applewatch/unable_to_add_app_id</id>
  <published>2016-05-07T20:00:00-04:00</published>
  <updated>2016-05-07T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color:#d14; float:right;&quot;&gt;更新日：2016年05月11日&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月07日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0.環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[IDE] Xcode 7.3
[iOS] 9.3
[watchOS] 2.1

※MacとiPhoneはUSBケーブルで接続。
※iPhoneとAppleWatchはペアリング済み。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1.問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AppleWatch用のサンプルプログラムを実機で動かしていたら、下記エラーが出るようになりました。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/unable_to_add_app_id/error_message.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;Unable to add App ID&quot; alt=&quot;Unable to add App ID&quot; src=&quot;/assets/posts/img/unable_to_add_app_id/error_message.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Unable to add App ID because the &amp;#39;10&amp;#39; App ID limit in &amp;#39;7&amp;#39; days has been exceeded.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;「7日間で10個のアプリID制限を超えたため、アプリIDを追加できません」か。。。&lt;/p&gt;

&lt;p&gt;Webで調べたところ回避策は2つありましたが、シンプルそうな①をやってみました。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;① Xcodeに新しいApple IDを追加して、それを使ってインストール&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;② 既に実機にインストール済みのアプリの Bundle ID を使い回す&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2.手順 (文中の【】はマスク)&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Xcodeに新しい Apple ID を追加&lt;/p&gt;

&lt;p&gt;アプリの[General]-[Team]をクリックし &amp;quot;Add an Account&amp;quot; を選択します。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/unable_to_add_app_id/add_account.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;70%&quot; height=&quot;70%&quot; title=&quot;AppleID追加&quot; alt=&quot;AppleID追加&quot; src=&quot;/assets/posts/img/unable_to_add_app_id/add_account.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Xcodeに追加するApple IDを要求されますが、未作成なので&amp;quot;Create Apple ID&amp;quot;をクリック。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/unable_to_add_app_id/required_to_sign_in.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;サインイン&quot; alt=&quot;サインイン&quot; src=&quot;/assets/posts/img/unable_to_add_app_id/required_to_sign_in.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;必要項目を入力していくと、最後に「入力したメールアドレス宛てにメールを送ったから確認してね」と表示されます。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/unable_to_add_app_id/verification_for_the_email.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;email確認&quot; alt=&quot;email確認&quot; src=&quot;/assets/posts/img/unable_to_add_app_id/verification_for_the_email.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;上記メールアドレス宛てに確認メールが届いているので、メール文中の&amp;quot;今すぐ確認&amp;quot;をクリックして登録を完了させます。&lt;/p&gt;

&lt;p&gt;再度、手順の最初に戻って、&amp;quot;Add an Account&amp;quot;を選択し、登録したての新しいApple IDを入力します。&lt;/p&gt;

&lt;p&gt;新しいApple IDを選択すると下記のメッセージが出るので&amp;quot;Fix Issue&amp;quot;→&amp;quot;Choose&amp;quot;をクリックして解消します。&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;【注意】ダイアログ内のプルダウンで新しいApple IDが選択されているか再度確認して下さい&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/unable_to_add_app_id/fix_the_issue.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;Fix Issue&quot; alt=&quot;Fix Issue&quot; src=&quot;/assets/posts/img/unable_to_add_app_id/fix_the_issue.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;そのままアプリをビルド＆起動すると署名関係の警告が何度か出ますが、&amp;quot;Fix issue&amp;quot; をクリックしていくと実機でアプリが実行できました。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;①&lt;a href=&quot;http://stackoverflow.com/questions/36922738/how-to-get-around-apple-app-id-insanity&quot; target=&quot;_blank&quot;&gt;How to get around Apple app ID insanity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/applewatch/unable_to_add_app_id/&quot;&gt;AppleWatch 開発中アプリの追加制限を回避&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 07, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[AppleWatch実機でサンプル実行]]></title>
 <link rel="alternate" type="text/html" href="/applewatch/running_it_on_apple_watch/" />
  <id>/applewatch/running_it_on_apple_watch</id>
  <published>2016-05-04T20:00:00-04:00</published>
  <updated>2016-05-04T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月04日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0.環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[IDE] Xcode 7.3
[iOS] 9.3
[watchOS] 2.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1.問題&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;AppleWatch用のサンプルプログラムを実機でも動かしたくなりました。&lt;/p&gt;

&lt;p&gt;最初下記の環境だったのですが、Xcodeでサンプルプログラムを実行すると、&amp;quot;paired device unavailable for development&amp;quot; というエラー出ました。&lt;/p&gt;

&lt;p&gt;原因が分からなかったので、とりあえずiOSを9.3にバージョンアップしました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[IDE] Xcode 7.2.1
[iOS (iPhone)] 9.1
[watchOS (AppleWatch)] 2.1

※MacとiPhoneはUSBケーブルで接続。
※iPhoneとAppleWatchはペアリング済み。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;その後、今度は &amp;quot;Could not find Developer Disk Image&amp;quot; というエラーで先へ進めず。&lt;/p&gt;

&lt;p&gt;Xcodeの下記フォルダに9.3がないことが原因らしいのですが、そもそもXcode 7.2はiOS9.3には対応していないようです。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Finderを開き、左ペインの&amp;quot;アプリケーション&amp;quot;を選択すると、右ペインにXcode.appが表示されるので右クリックで&amp;quot;パッケージの内容を表示&amp;quot;
Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2.Xcodeバージョンアップ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Xcodeを 7.3に上げることにしました。&lt;/p&gt;

&lt;p&gt;・LaunchpadでXcodeを長押し後、Xcodeの左上の×印をクリックしアンインストール。&lt;/p&gt;

&lt;p&gt;　(Dockに残っているけど無視)&lt;/p&gt;

&lt;p&gt;・OS再起動。&lt;/p&gt;

&lt;p&gt;・App StoreからXcodeをインストール。&lt;/p&gt;

&lt;p&gt;　(Macをwifiルーターの近くに持って行って、電源コードをつないで…　終わるまで1時間以上かかりました)&lt;/p&gt;

&lt;p&gt;Launchpadでインストールが終わったことを確認して、Xcodeを起動すると無事7.3になってました。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Xcodeでサンプルプログラムをビルド＆起動。&lt;/p&gt;

&lt;p&gt;Xcode再インストール後は下記の警告が出ますが &amp;quot;Fix issue&amp;quot; をクリックして先へ進みます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Failed to code sign &amp;quot;hello-watch WatchKit App&amp;quot;.

No provisioning profiles with a valid signing identity (i.e. certificate and private key pair) matching the bundle identifier “home.hello-watch.watchkitapp” were found.

Xcode can attempt to fix this issue. This will reset your code signing and provisioning settings to recommended values and resolve issues with signing identities and provisioning profiles.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ビルドは通ったようですが、起動時に下記エラーが出ました。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Error Launching &amp;#39;hello-watch WatchKit Extension&amp;#39;
Apple Watch is locked. Unlock the device and launch again.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Error Launching &amp;#39;hello-watch WatchKit Extension&amp;#39;
The operation couldn’t be completed. (FBSOpenApplicationErrorDomain error 3.)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;開発中アプリなのでAppleWatch側で許可が必要なようです。&lt;/p&gt;

&lt;p&gt;見慣れないアイコンが増えているので、これをタップ。(オレンジの線)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/running_it_on_apple_watch/installed_sample.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;30%&quot; height=&quot;30%&quot; title=&quot;AppleWatchサンプルアプリ&quot; alt=&quot;AppleWatchサンプルアプリ&quot; src=&quot;/assets/posts/img/running_it_on_apple_watch/installed_sample.jpg&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;quot;信頼されていないAppデベロッパ&amp;quot;という警告が出るので、&amp;quot;信頼する&amp;quot; をタップ。&lt;/p&gt;

&lt;p&gt;再びXcodeでビルド＆起動すると、AppleWatch側で実行されるようになりました。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;①&lt;a href=&quot;http://stackoverflow.com/questions/33380684/ios-watch-kit-paired-device-unavailable-for-development&quot; target=&quot;_blank&quot;&gt;iOS: Watch Kit paired device unavailable for development&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;②&lt;a href=&quot;http://stackoverflow.com/questions/33885080/xcode-7-1-with-ios-9-2-error-could-not-find-developer-disk-image&quot; target=&quot;_blank&quot;&gt;Xcode 7.1 with iOS 9.2 Error (Could not find Developer Disk image) [duplicate]&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;③&lt;a href=&quot;http://swift-bettychang.hatenadiary.jp/entry/2016/03/26/045524&quot; target=&quot;_blank&quot;&gt;Xcode7.3にアップデートできない&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;④&lt;a href=&quot;http://stackoverflow.com/questions/34384015/fbsopenapplicationerrordomain-error-3-when-trying-to-launch-a-watch-kit-app-on-a&quot; target=&quot;_blank&quot;&gt;FBSOpenApplicationErrorDomain error 3 when trying to launch a watch kit app on a physical device&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/applewatch/running_it_on_apple_watch/&quot;&gt;AppleWatch実機でサンプル実行&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 04, 2016.&lt;/p&gt;
  </content>
</entry>


<entry>
  <title type="html"><![CDATA[AppleWatchサンプルプログラム]]></title>
 <link rel="alternate" type="text/html" href="/applewatch/apple_watch_sample/" />
  <id>/applewatch/apple_watch_sample</id>
  <published>2016-05-01T20:00:00-04:00</published>
  <updated>2016-05-01T20:00:00-04:00</updated>
  <author>
    <name>sankame</name>
    <uri></uri>
    <email>m2ad0504@outlook.jp</email>
  </author>
  <content type="html">
    &lt;p&gt;&lt;span style=&quot;float:right;&quot;&gt;投稿日：2016年05月01日&lt;/span&gt;&lt;/p&gt;

&lt;h3&gt;0.環境&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[OS] Mac OS X 10.11.4
[IDE] Xcode 7.2.1
[watchOS] 2.1
[Swift] 2.1.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1.完成イメージ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;メイン画面からサブ画面へ行って戻るサンプルを作成します。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/result.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;完成イメージ&quot; alt=&quot;完成イメージ&quot; src=&quot;/assets/posts/img/apple_watch_sample/result.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;2.プロジェクト作成&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Xcodeのスプラッシュ画面で&amp;quot;Create a new Xcode project&amp;quot;を選択。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/splash.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;スプラッシュ画面&quot; alt=&quot;スプラッシュ画面&quot; src=&quot;/assets/posts/img/apple_watch_sample/splash.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;watchOS Applicationを選択。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/project_template.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;テンプレート選択&quot; alt=&quot;テンプレート選択&quot; src=&quot;/assets/posts/img/apple_watch_sample/project_template.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;適当なプロジェクト名を入力して下さい。&lt;/p&gt;

&lt;p&gt;サンプルなので&amp;quot;Notification&amp;quot;と&amp;quot;Glance&amp;quot;のチェックは外します。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/project_options.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;オプション選択&quot; alt=&quot;オプション選択&quot; src=&quot;/assets/posts/img/apple_watch_sample/project_options.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;プロジェクトを作成するフォルダを選択して下さい。&lt;/p&gt;

&lt;p&gt;下記のように /app/ を指定するとプロジェクトのパスは /app/hello-watch/ になります。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/folder.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;フォルダ選択&quot; alt=&quot;フォルダ選択&quot; src=&quot;/assets/posts/img/apple_watch_sample/folder.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;3.実装&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;左のプロジェクトナビゲーターで&amp;quot;Interface.storyboard&amp;quot;を選択。(A-1)&lt;/p&gt;

&lt;p&gt;デフォルトで用意されている Interface Controller を選択して、Identifier に適当な値(例ではIC1)を入力。 (A-2、A-3、A-4)&lt;/p&gt;

&lt;p&gt;ドラッグ＆ドロップで Label と Button を Interface Controller 上に配置します。 (A-5)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/ready_controller.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;コントローラ準備&quot; alt=&quot;コントローラ準備&quot; src=&quot;/assets/posts/img/apple_watch_sample/ready_controller.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ドラッグ＆ドロップで Interface Controller をもう一つ追加。(B-1)&lt;/p&gt;

&lt;p&gt;追加した方を選択し、Identifier に適当な値(例ではIC2)を入力。 (B-2、B-3)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/ready_controller2.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;80%&quot; height=&quot;80%&quot; title=&quot;コントローラ準備&quot; alt=&quot;コントローラ準備&quot; src=&quot;/assets/posts/img/apple_watch_sample/ready_controller2.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;上記のIC2に Label を配置し、IC2と入力しておきます。&lt;/p&gt;

&lt;p&gt;区別するため、IC1に配置した Label にはIC1と入力します。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/ready_controller3.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;50%&quot; height=&quot;50%&quot; title=&quot;コントローラ準備&quot; alt=&quot;コントローラ準備&quot; src=&quot;/assets/posts/img/apple_watch_sample/ready_controller3.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;アシスタントエディターを表示します。(C-1)&lt;/p&gt;

&lt;p&gt;Button を右クリックし、[Sent Actions]-[selector] からドラッグ＆ドロップでエディターまで線を伸ばします。(C-2)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/coding1.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;実装1&quot; alt=&quot;実装1&quot; src=&quot;/assets/posts/img/apple_watch_sample/coding1.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;適当なメソッド名を入力します。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/coding2.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;80%&quot; height=&quot;80%&quot; title=&quot;実装2&quot; alt=&quot;実装2&quot; src=&quot;/assets/posts/img/apple_watch_sample/coding2.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Button タップ時に呼ばれるメソッドが追加されました。(D-1、D-2)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/coding3.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;80%&quot; height=&quot;80%&quot; title=&quot;実装3&quot; alt=&quot;実装3&quot; src=&quot;/assets/posts/img/apple_watch_sample/coding3.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;上記で追加したメソッドにIC2へ遷移するコードを記述します。&lt;/p&gt;

&lt;p&gt;(IC1へ戻るリンクは自動で作成されます)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;IBAction&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;onPushButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pushControllerWithName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;IC2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;some messages&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;シュミレーターで Apple Watch を選択し、[Command]-[R]キーを押すと数十秒後にプログラムが実行されます。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/posts/img/apple_watch_sample/run.png&quot; target=&quot;_blank&quot;&gt;&lt;img width=&quot;100%&quot; height=&quot;100%&quot; title=&quot;実行&quot; alt=&quot;実行&quot; src=&quot;/assets/posts/img/apple_watch_sample/run.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;実機で起動させた際の&lt;a href=&quot;/applewatch/running_it_on_apple_watch/&quot; target=&quot;_blank&quot;&gt;記事はこちら。&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;参考ページ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.haranicle.net/watchkit_push/&quot; target=&quot;_blank&quot;&gt;WatchKitでpush画面遷移&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    &lt;p&gt;&lt;a href=&quot;/applewatch/apple_watch_sample/&quot;&gt;AppleWatchサンプルプログラム&lt;/a&gt; was originally published by sankame at &lt;a href=&quot;&quot;&gt;プログラマー備忘録&lt;/a&gt; on May 01, 2016.&lt;/p&gt;
  </content>
</entry>

</feed>
