<!DOCTYPE html>
<html lang="ja">
<head>
    <title>プログラマー備忘録</title>
    <meta name="generator" content="Hugo 0.19" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    
    

    
    
    <meta name="robots" content="noindex">
    

    <script src="https://sankame.github.io/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="https://sankame.github.io/bower_components/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://sankame.github.io/bower_components/bootstrap/js/dropdowns-enhancement.js"></script>
    <script src="https://sankame.github.io/bower_components/bluebird/js/browser/bluebird.js"></script>
    
    
    
    <script src="https://sankame.github.io/bower_components/d3/d3.min.js" charset="utf-8"></script>
    <script src="https://sankame.github.io/bower_components/cal-heatmap/cal-heatmap.min.js"></script>
    <script src="https://sankame.github.io/bower_components/highlightjs/highlight.pack.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']]}
      });
    </script>

    <link rel="icon" href="https://sankame.github.io/favicon.ico" />
    <link rel="apple-touch-icon" href="https://sankame.github.io/apple-touch-icon.png" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/highlightjs/styles/monokai.css" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/bootstrap/css/dropdowns-enhancement.css" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/talaria/dist/talaria.css" />   
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/createjs/createjs.css" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/icomoon/css/icomoon.css" />
    <link rel="stylesheet" href="https://sankame.github.io/css/style.css" />
    <link rel="stylesheet" href="https://sankame.github.io/css/mobile.css" />
    <link rel="stylesheet" href="https://sankame.github.io/bower_components/cal-heatmap/cal-heatmap.css" />
    <link rel="stylesheet" href="https://sankame.github.io/css/sankame.css" />

    <link rel="alternate" type="application/rss+xml" title="プログラマー備忘録" href="https://sankame.github.io/index.xml"/>
    <link rel="feed" type="application/rss+xml" title="プログラマー備忘録" href="https://sankame.github.io/index.xml" />

    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-7938855665302783",
          enable_page_level_ads: true
     });
</script>
</head>
<body>
<div class="container">


<div id="container">
    

<header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">

	<nav class="navbar navbar-default">
	  <div class="container-fluid">

    	    <div class="navbar-header">
      		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
      		  <span class="sr-only">Toggle navigation</span>
      		  <span class="icon-bar"></span>
      		  <span class="icon-bar"></span>
      		  <span class="icon-bar"></span>
      		</button>
		    <h1>
			    <a class="navbar-brand" href="https://sankame.github.io/">
				    
				    
				    <span class="site-title">プログラマー備忘録</span>
				    
			    </a>
		    </h1>
	    </div>


    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
    
    <li>
	<a href="https://twitter.com/handycola" target="_blank">
		<i class="fa fa-twitter" aria-hidden="true"></i>
	</a>

</li>
<li>
	<a href="https://facebook.com/100014073908728" target="_blank">
		<i class="fa fa-facebook" aria-hidden="true"></i>
	</a>
</li>
<li>
	<a href="https://stackoverflow.com/users/2849068/sankame" target="_blank">
		<i class="fa fa-stack-overflow" aria-hidden="true"></i>
	</a>
</li>
<li>
	<a href="/index.xml" type="application/rss+xml" target="_blank">
		<i class="fa fa-rss-square" aria-hidden="true"></i>
	</a>
</li>

    
      </ul>
    </div>

  </div>
</nav>

</header>




    <div id="top-image">
	<div id="top-image-wrap">
		<iframe src="https://sankame.github.io/bower_components/particlesjs/particlesjs.html"></iframe>
	</div>
</div>

    <div class="outer">

    <section id="main">

    
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2020-04-30-virtualbox_share_folder/" class="permalink">VirtualBoxでWindows10とUbuntu間のファイル共有</a>
    </h1>
	<time datetime="2020-04-30 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-04-30</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                    0. 環境 [VirtualBox] 6.1.6
[ホストOS] Windows 10 Home
[ゲストOS] Ubuntu 16.4
1. やりたいこと Windows10(ホストOS)にVirtualBoxを入れて、その上でUbuntu(ゲストOS)を動かします。
その際、ホストOS上のファイルをゲストOSからも操作したい。
IDEやエディタはホストOS上で起動し、バージョン管理やWebサーバー経由の確認などはゲストOSで行いたいというのが意図です。
2. インストール VirtualBoxとUbuntuのインストール&amp;設定はこの記事が分かりやすかったです。
VirtualBoxのサイトで下記リンクからダウンロード。
[VirtualBox 6.1.6 platform packages]-[Windows hosts]
また、Ubuntuはこちらのサイトから「64-bit PC (AMD64) desktop image」をダウンロードしました。
1.6Gあるので僕の環境だと数時間かかりました。
3. 共有フォルダ設定 Ubuntuのインストールが終わったら、VirtualBoxのホーム画面からインストールした仮想マシンを選択して「設定」をクリック。
下記のウィンドウが起動するので、左メニューの「共有フォルダー」をクリックします。
さらに右端にあるプラスマークをクリック。 
下記ウィンドウに必要項目を入力します。
・「フォルダーのパス」は「その他」を選んで、ホストOS側で共有したいフォルダーを選択。 ・「フォルダー名」は自動で入るのでさわらず。(1) ・「自動マウント」をチェックONにします。 ・「マウントポイント」はゲストOSの任意のディレクトリを指定。(2) ・「永続化する」というチェックボックスがある場合、それもON。  
こんな感じに追加されました。 
ゲストOSを再起動します。
これだけだとゲストOSからホストOSの共有フォルダが見えませんでした。
調べてるといろんなページで「Ubuntuに&rdquo;Gust Additions&rdquo;をインストールする必要がある」と書いてましたが、入れなくても後述の手順でできました。 (以前はそうだったのかもしれません)
&ldquo;mount.vboxsf&rdquo;コマンドを使いたいので、ゲストOS上でrootになるかsudoをつけて下記コマンドを実行。
# apt install virtualbox-guest-utils  次にゲストOS側で予めマウントポイントのディレクトリを作成しておきます。(上記(2))
最後に、第一引数に前述の(1)、第二引数に(2)を指定してこのコマンドを実行するとホスト側のフォルダが参照できました。(下記のshareは読み替えて下さい)
# mount.vboxsf share /share  仮想マシンを落とすと設定が消えてしまったので、~/.bashrcに上記コマンドを書いておきました。 ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2020-04-30-virtualbox_share_folder/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2020-04-01-mysql8_not_support_querycache/" class="permalink">MySQLでquery_cache系パラメータを設定すると起動エラー</a>
    </h1>
	<time datetime="2020-04-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-04-01</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                    0. 環境 [MySQL] 8.0.17
1. 経緯  GCP無料枠のメモリ約500MBという貧弱な環境でWordPressを運用してます。
少しでもパフォーマンス改善したく、MySQLのクエリキャッシュを設定しました。(下記要点のみ記載)
# vim /etc/my.cnf.d/mysql-server.cnf : : [mysqld] query_cache_type=1 query_cache_limit=1M query_cache_size=20M  MySQLを再起動。
# mysql -u hoge -phoge -e&quot;SET GLOBAL innodb_fast_shutdown = 1&quot; # service mysqld stop # service mysqld start  起動しなくなりました…
ログを見ると下記エラーが出てました。(要点のみ記載)
# tail -F /var/log/mysql/mysqld.log : : [Server] unknown variable 'query_cache_type=1'.   2. 対応  ネットで情報を漁ったところ、MySQL8からはクエリキャッシュが使えなくなったようです。
MySQL 8.0: Retiring Support for the Query Cache
代わりにProxySQLというのが紹介されてましたが、ミドルウェアを追加するとメンテするポイントも増えるので今回は見送りました。
一旦は、WordPressのプラグイン(WP Super Cache)とphp-fpmのチューニングで、DBより手前で何とかする方向で進めます。 ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2020-04-01-mysql8_not_support_querycache/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2020-03-20-mysql_compare_datetime_timestamp/" class="permalink">MySQLのdatetimeとtimestampの値比較</a>
    </h1>
	<time datetime="2020-03-20 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-03-20</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                     MySQLで日付系のカラムを比較するときにちょっと手間取ったのでメモ。
0. 環境 [MySQL] 5.7.14
1. 前提  2つのテーブルに型が異なるカラムがあったとします。()内は小数秒の桁数の精度を表してます。
 テーブルAの定義抜粋
CreateDate datetime(3) # 小数秒あり  テーブルBの定義抜粋
created_at timestamp # 小数秒なし    2. 手順  この2カラムが一致していることをWHERE句で指定するには、日付フォーマットを揃えるとうまくいきました。
 SQL文の抜粋
AND IFNULL(DATE_FORMAT(a.CreateDate, '%Y%m%d%H%i%S'), '') = IFNULL(DATE_FORMAT(b.created_at, '%Y%m%d%H%i%S'), '')  今回は秒まで比較できれば十分でしたが、もし小数秒以下も含める場合は、下記を参照してフォーマットを追加して下さい。
 MySQLにおける日付変換    3. 日付型の違い  そもそもdatetimeとtimestampの使い分けは？というのはこの記事によくまとまっていました。
 MySQL: DATETIME vs TIMESTAMP
 ざっくり言うと、こんな感じですね。
 [datetime] 格納できる値の範囲が広いが、その分容量が必要。 [timestamp] インデックス、UTC変換、タイムゾーン対応など、機能性を求めるならこっち。    4. 参考  日付と時間型の概要   ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2020-03-20-mysql_compare_datetime_timestamp/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2020-03-06-lets_encrypt_bug_avoid/" class="permalink">Let&#39;s Encryptのバグに伴う証明書更新</a>
    </h1>
	<time datetime="2020-03-06 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-03-06</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                    「バグ対応のため、Let&rsquo;s Encryptの一部証明書が3/4までになる」と同僚が教えてくれました。
&ldquo;「バグの影響で特定のサーバー証明書を失効させる」とLet’s Encryptが発表、影響を受けるのは全体の2.6%&rdquo;
0. 環境 [OS] CentOS 7.5
1. 確認 まず、Let’s Encryptから提供されている下記ツールに対象ホスト名(ドメイン)を入れて影響有無を確認します。
Check whether a host&rsquo;s certificate needs replacement
2. 手順  影響ありの場合、対応方法は証明書を更新すればよいとのことなので、こちらを実行しました。
certbot renew
 よくログを見ると処理がスキップされ、更新されてない様子。
The following certs are not due for renewal yet: /path/to/pemfile expires on 2020-05-07 (skipped) /path/to/pemfile expires on 2020-05-14 (skipped) No renewals were attempted.  サーバー負荷を下げるため、有効期限まで余裕があると更新されない仕様になってるようです。
 なので強制的に更新するコマンドを実行しました。
certbot renew --force-renewal
 今回は下記のメッセージが出てたので大丈夫そう。
Congratulations, all renewals succeeded. The following certs have been renewed:  前述のツールでOKが出るのと、ブラウザ上で証明書の期限が延びていることを確認しました。 ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2020-03-06-lets_encrypt_bug_avoid/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2019-11-03-vscode_shift_jis/" class="permalink">VSCodeでShift_JISファイルを開く</a>
    </h1>
	<time datetime="2019-11-03 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-11-03</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                     昔秀丸エディタなどで保存したShift_JISのファイルをVisual Studio Codeで開くと文字化けしたので設定方法をメモ。
0. 環境 [Visual Studio Code] 1.39.2
1. 手順  設定画面を開きます。
 Windowsの場合、[Ctrl] + [,]
 Macの場合、[⌘ command] + [,]
  検索ボックスにfiles.autoGuessEncodingを入力。
 表示された&rdquo;Auto Guess Encoding&rdquo;のチェックボックスをONにする。
   ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2019-11-03-vscode_shift_jis/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2019-10-19-install_php_in_centos8/" class="permalink">CentOS8にバージョン指定でphpインストール</a>
    </h1>
	<time datetime="2019-10-19 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-10-19</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                     CentOS8にphpを入れるときのコマンドが分からなかったので要点だけメモ。
0. 環境 [OS] CentOS8 (64bit)
[PHP] 7.4
1. 手順  デフォルトのパッケージにはphp7.2までしか含まれていないので、remiリポジトリを足しました。
# dnf -y install https://rpms.remirepo.net/enterprise/remi-release-8.rpm  下記コマンドでインストール可能なphpバージョンを調べます。
# dnf module list php  &ldquo;Stream&rdquo;という欄に表示された名前を指定してインストールします。
 下記は7.4を指定してますが、2019/10/19時点の安定版は7.3なので、本番環境の場合は注意して下さい。
# dnf module install php:remi-7.4   パッケージの操作方法については、下記に詳細がまとまっています。
  2. 参考記事  How to install php on RHEL 8 / CentOS 8 Linux   ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2019-10-19-install_php_in_centos8/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2019-10-05-virtualbox_does_not_start/" class="permalink">VirtualBox起動エラー(rc=-22838)</a>
    </h1>
	<time datetime="2019-10-05 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-10-05</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                    4ヶ月くらい起動していなかったVirtualBoxで久々に開発をしようと思ったらエラーが発生しました。 ネット上の情報はあまりなく、下記のいずれかでした。Bはいつの時点に戻すか分からなかったので、Aでやることにしました。
(A)VirtualBoxを再インストール。
(B)Windowsの復元機能を使って、Windowsアップデート前の状態にする。
0. 環境 [OS] Windows7 (32bit)
[VirtualBox] 4.3.26 -&gt; 5.2.32
[Vagrant] 1.7.2 -&gt; 2.2.5
1. 問題  VagrantからVirtualBoxを起動する構成です。(詳細はこちら)
 いつものようにvagrant upやvagrant resumeでVirtualBoxを起動しようとしたところ、このエラーが出ました。

 エラーメッセージ
supHardenedWinVerifyProcess failed with VERR_ASN1_CURSOR_TAG_MISMATCH: (rc=-22838)    2. 対応  内部エラーで複雑そうなので、一度VirtualBoxをアンインストールし、新しいバージョンをインストールしました。
 32bit OSに対応してて、新し目のバージョン5.2.32を選択しました。(5.2.32のWindows hostsをクリック)
 64bit OSを使ってる方は、もっと新しいバージョンの方がいいと思います。
  VirtualBoxを再インストール後、vagrant upを実行すると下記エラーメッセージが表示されました。
 エラーメッセージ
The provider 'virtualbox' that was requested to back the machine 'default' is reporting that it isn't usable on this system. ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2019-10-05-virtualbox_does_not_start/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2019-09-23-js_change_kana/" class="permalink">【JavaScript】半角カナと全角カナの相互変換クラス(コピペ用)</a>
    </h1>
	<time datetime="2019-09-23 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-09-23</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                     JavaScriptで半角・全角カナの相互変換を行う疑似クラスです。シンプルなロジックなのでカスタマイズも簡単にできます。 下記ブラウザで確認していますが、何かあればこちらから連絡いただけると嬉しいです。
0. 環境 [OS] Windows7
[Browser] Chrome, Firefox(69.0), IE11
1. サンプル  使い方は下記サンプル内の&rdquo;Test&rdquo;を見て下さい。記載した2つのメソッドに文字列を渡すだけです。   2. 参考にした記事  JavaScriptで正規表現（文字列置換え編）
 Objectのkeyとvalueを反転させる。もしくはJSでenum的なものを作る。
   ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2019-09-23-js_change_kana/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2018-08-05-android_cursor_error/" class="permalink">【Androidアプリ開発】CursorWindowAllocationException エラー</a>
    </h1>
	<time datetime="2018-08-05 00:00:00 &#43;0000 UTC" itemprop="datePublished">2018-08-05</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                    CursorWindowAllocationException が発生した時の対処方法です。
0. 環境 [Windows] 7
[Java] 1.8
[Android] 5.1.1
[Android API] 26
1. 問題  開発中のAndroidアプリでSQLiteを使ってます。
サブクエリを使って、今までより抽出データが多くなるSQLを書いたところ、画面遷移中に頻繁にクラッシュするようになりました。
しかも、特定のテスト機(Galaxy S4(Android5.0.1))のみです。
 (A)エラー内容
Fatal Exception: android.database.CursorWindowAllocationException Cursor window allocation of 2048 kb failed. # Open Cursors=700 (# cursors opened by this proc=700)  (B)エラー箇所
 前述のサブクエリを適用した箇所とは全く別の箇所が毎回落ちるポイントでした。(下記2行目)
Cursor cursorCountUsers = db.rawQuery(&quot;SELECT COUNT(user_id) FROM users&quot;, null); cursorCountUsers.moveToFirst(); int countUserId = cursorCountUsers.getInt(0); return countUserId;     2. 対策  Slackoverflowで同じ問題を見つけました。
まず、毎回同じ箇所で落ちるので、上記(B)にcursorCountUsers.close();を入れたけど直りませんでした。 ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2018-08-05-android_cursor_error/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    
    <article class="article article-type-post" itemscope="" itemprop="blogPost">

	    <div class="article-inner">

            
            </a>

            <header class="article-header">
    
    <h1 class="article-title" itemprop="name">
	<a href="https://sankame.github.io/blog/2018-07-23-android_use_fileprovider/" class="permalink">【Androidアプリ開発】FileUriExposedException エラー</a>
    </h1>
	<time datetime="2018-07-23 00:00:00 &#43;0000 UTC" itemprop="datePublished">2018-07-23</time>
    <div class="article-meta">

        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>
                     Android7 で android.os.FileUriExposedException が発生した時の対処方法です。
(文中の【】は読み替えて下さい)
0. 環境 [Windows] 7
[Java] 1.8
[Android] 5.1.1
[Android API] 26
1. 問題  Androidアプリから一時ファイルを作成して、そのURIを外部のアプリに渡すという処理を実装してました。
(ファイルを作成して、Gmailに添付するなど)
Android7からfile://による指定ができなくなったため、下記のエラーが発生します。
android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/【アプリのパッケージ名】/temporary/【一時ファイル名】 exposed beyond app through ClipData.Item.getUri()  URIはFileProviderで作らないといけないそうです。
  2. 対策 2-1. AndroidManifest.xml  まず、AndroidManifest.xmlにFileProviderの定義を追加します。
android:resourceには、2-2で作成するファイル名を指定。
   2-2. res/xml/provider_paths.xml  次に、res/xml/provider_paths.xml を作成します。
後述の2-3でfileの保存先を Environment.getExternalStorageDirectory() の直下にしたので、それを表すexternal-pathを指定します。
また、直下なのでpathはカレントディレクトリになります。
   2-3. 該当処理を行っているActivity  最後に、URIの生成を下記(1)から(2)に変更しました。   3. 参考  FileProviderリファレンス   ...
                </p>
                <p class="article-more-link">
                    <a href="https://sankame.github.io/blog/2018-07-23-android_use_fileprovider/">
			    Read more
			    
                    </a>
                </p>
            </div>
	    
        </div>
    </article>
    

    <nav id="page-nav">

    
        <a class="extend prev" rel="prev" href="/">
            « 
        </a>
    
    
        <a class="extend next" rel="next" href="/page/3/">
             »
        </a>
    

</nav>

</section>


    
<aside id="sidebar">
    

<div class="widget-wrap">
    <div class="widget">
        <ul id="recent-post">
		<li id="first-recent"><a href="/index.xml" id="firstmove" class="move"><h3 class="widget-title">
			最近の投稿
    </h3></a></li>
    		
            
<li><a href="https://sankame.github.io/blog/2022-05-21-nextjs_so_slow/" class="move">  Next.jsが遅い</a> </li>
            
<li><a href="https://sankame.github.io/blog/2022-03-26-virtualbox_does_not_start_after_windows_update/" class="move">  WindowsUpdate後に再度VirtualBoxでVM起動エラー</a> </li>
            
<li><a href="https://sankame.github.io/blog/2021-11-20-flutter_pub_upgrade_error/" class="move">  Error: Unable to &#39;pub upgrade&#39; flutter tool.</a> </li>
            
        </ul>
    </div>
</div>



    

<div class="widget-wrap">
    <div class="widget">
        <ul class="category-list">
    <h3 class="widget-title">Categories </h3>
            
                <a class="category-list-link" href="https://sankame.github.io/categories/tips">
            <li class="category-list-item">
                    tips
                <span class="category-list-count">26</span>
            </li>
                </a>
            
                <a class="category-list-link" href="https://sankame.github.io/categories/%e3%82%a8%e3%83%a9%e3%83%bc%e8%a7%a3%e6%b1%ba">
            <li class="category-list-item">
                    エラー解決
                <span class="category-list-count">27</span>
            </li>
                </a>
            
                <a class="category-list-link" href="https://sankame.github.io/categories/%e3%82%bb%e3%83%83%e3%83%88%e3%82%a2%e3%83%83%e3%83%97">
            <li class="category-list-item">
                    セットアップ
                <span class="category-list-count">41</span>
            </li>
                </a>
            
                <a class="category-list-link" href="https://sankame.github.io/categories/%e3%83%81%e3%83%a5%e3%83%bc%e3%83%8b%e3%83%b3%e3%82%b0">
            <li class="category-list-item">
                    チューニング
                <span class="category-list-count">3</span>
            </li>
                </a>
            
                <a class="category-list-link" href="https://sankame.github.io/categories/%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0">
            <li class="category-list-item">
                    プログラミング
                <span class="category-list-count">7</span>
            </li>
                </a>
            
        </ul>
    </div>
</div>



    

<div class="widget-wrap">
	<ul class="category-list">
    <h3 class="widget-title">Tags  </h3>
    <div class="widget tagcloud">
    	
        
        <a href="https://sankame.github.io/tags/Android" style="font-size: 12px;">Android</a>
        
        <a href="https://sankame.github.io/tags/AndroidStudio" style="font-size: 12px;">AndroidStudio</a>
        
        <a href="https://sankame.github.io/tags/AndroidWear" style="font-size: 12px;">AndroidWear</a>
        
        <a href="https://sankame.github.io/tags/Angular2" style="font-size: 12px;">Angular2</a>
        
        <a href="https://sankame.github.io/tags/Apache" style="font-size: 12px;">Apache</a>
        
        <a href="https://sankame.github.io/tags/ApacheBench" style="font-size: 12px;">ApacheBench</a>
        
        <a href="https://sankame.github.io/tags/AppleWatch" style="font-size: 12px;">AppleWatch</a>
        
        <a href="https://sankame.github.io/tags/Bitbucket" style="font-size: 12px;">Bitbucket</a>
        
        <a href="https://sankame.github.io/tags/CentOS" style="font-size: 12px;">CentOS</a>
        
        <a href="https://sankame.github.io/tags/DELL" style="font-size: 12px;">DELL</a>
        
        <a href="https://sankame.github.io/tags/Eclipse" style="font-size: 12px;">Eclipse</a>
        
        <a href="https://sankame.github.io/tags/Flutter" style="font-size: 12px;">Flutter</a>
        
        <a href="https://sankame.github.io/tags/FreeMind" style="font-size: 12px;">FreeMind</a>
        
        <a href="https://sankame.github.io/tags/Git" style="font-size: 12px;">Git</a>
        
        <a href="https://sankame.github.io/tags/GitHub" style="font-size: 12px;">GitHub</a>
        
        <a href="https://sankame.github.io/tags/GoogleSheets" style="font-size: 12px;">GoogleSheets</a>
        
        <a href="https://sankame.github.io/tags/Gradle" style="font-size: 12px;">Gradle</a>
        
        <a href="https://sankame.github.io/tags/Hive" style="font-size: 12px;">Hive</a>
        
        <a href="https://sankame.github.io/tags/Hugo" style="font-size: 12px;">Hugo</a>
        
        <a href="https://sankame.github.io/tags/Java" style="font-size: 12px;">Java</a>
        
        <a href="https://sankame.github.io/tags/JavaScript" style="font-size: 12px;">JavaScript</a>
        
        <a href="https://sankame.github.io/tags/Jekyll" style="font-size: 12px;">Jekyll</a>
        
        <a href="https://sankame.github.io/tags/Jenkins" style="font-size: 12px;">Jenkins</a>
        
        <a href="https://sankame.github.io/tags/Kitura" style="font-size: 12px;">Kitura</a>
        
        <a href="https://sankame.github.io/tags/Laravel" style="font-size: 12px;">Laravel</a>
        
        <a href="https://sankame.github.io/tags/Let%27sEncrypt" style="font-size: 12px;">Let&#39;sEncrypt</a>
        
        <a href="https://sankame.github.io/tags/MeCab" style="font-size: 12px;">MeCab</a>
        
        <a href="https://sankame.github.io/tags/MindMapMemo" style="font-size: 12px;">MindMapMemo</a>
        
        <a href="https://sankame.github.io/tags/Mockery" style="font-size: 12px;">Mockery</a>
        
        <a href="https://sankame.github.io/tags/Monit" style="font-size: 12px;">Monit</a>
        
        <a href="https://sankame.github.io/tags/MySQL" style="font-size: 12px;">MySQL</a>
        
        <a href="https://sankame.github.io/tags/NTP" style="font-size: 12px;">NTP</a>
        
        <a href="https://sankame.github.io/tags/Nextjs" style="font-size: 12px;">Nextjs</a>
        
        <a href="https://sankame.github.io/tags/Nexus7" style="font-size: 12px;">Nexus7</a>
        
        <a href="https://sankame.github.io/tags/Nginx" style="font-size: 12px;">Nginx</a>
        
        <a href="https://sankame.github.io/tags/OpenX" style="font-size: 12px;">OpenX</a>
        
        <a href="https://sankame.github.io/tags/PHP" style="font-size: 12px;">PHP</a>
        
        <a href="https://sankame.github.io/tags/PHPDebugBar" style="font-size: 12px;">PHPDebugBar</a>
        
        <a href="https://sankame.github.io/tags/PHPUnit" style="font-size: 12px;">PHPUnit</a>
        
        <a href="https://sankame.github.io/tags/Phalcon" style="font-size: 12px;">Phalcon</a>
        
        <a href="https://sankame.github.io/tags/ReactNative" style="font-size: 12px;">ReactNative</a>
        
        <a href="https://sankame.github.io/tags/Redis" style="font-size: 12px;">Redis</a>
        
        <a href="https://sankame.github.io/tags/ReviveAdServer" style="font-size: 12px;">ReviveAdServer</a>
        
        <a href="https://sankame.github.io/tags/Ruby" style="font-size: 12px;">Ruby</a>
        
        <a href="https://sankame.github.io/tags/RubyGems" style="font-size: 12px;">RubyGems</a>
        
        <a href="https://sankame.github.io/tags/Rundeck" style="font-size: 12px;">Rundeck</a>
        
        <a href="https://sankame.github.io/tags/SQLite" style="font-size: 12px;">SQLite</a>
        
        <a href="https://sankame.github.io/tags/SSL-TLS" style="font-size: 12px;">SSL-TLS</a>
        
        <a href="https://sankame.github.io/tags/Selenium" style="font-size: 12px;">Selenium</a>
        
        <a href="https://sankame.github.io/tags/Smarty" style="font-size: 12px;">Smarty</a>
        
        <a href="https://sankame.github.io/tags/Subversion" style="font-size: 12px;">Subversion</a>
        
        <a href="https://sankame.github.io/tags/Swift" style="font-size: 12px;">Swift</a>
        
        <a href="https://sankame.github.io/tags/Touchpad" style="font-size: 12px;">Touchpad</a>
        
        <a href="https://sankame.github.io/tags/TypeScript" style="font-size: 12px;">TypeScript</a>
        
        <a href="https://sankame.github.io/tags/Ubuntu" style="font-size: 12px;">Ubuntu</a>
        
        <a href="https://sankame.github.io/tags/UnitTest" style="font-size: 12px;">UnitTest</a>
        
        <a href="https://sankame.github.io/tags/VSCode" style="font-size: 12px;">VSCode</a>
        
        <a href="https://sankame.github.io/tags/Vagrant" style="font-size: 12px;">Vagrant</a>
        
        <a href="https://sankame.github.io/tags/VirtualBox" style="font-size: 12px;">VirtualBox</a>
        
        <a href="https://sankame.github.io/tags/Website-Optimization" style="font-size: 12px;">Website-Optimization</a>
        
        <a href="https://sankame.github.io/tags/Windows" style="font-size: 12px;">Windows</a>
        
        <a href="https://sankame.github.io/tags/Xcode" style="font-size: 12px;">Xcode</a>
        
        <a href="https://sankame.github.io/tags/ab" style="font-size: 12px;">ab</a>
        
        <a href="https://sankame.github.io/tags/bash" style="font-size: 12px;">bash</a>
        
        <a href="https://sankame.github.io/tags/cocoapods" style="font-size: 12px;">cocoapods</a>
        
        <a href="https://sankame.github.io/tags/composer" style="font-size: 12px;">composer</a>
        
        <a href="https://sankame.github.io/tags/cron" style="font-size: 12px;">cron</a>
        
        <a href="https://sankame.github.io/tags/fitbit" style="font-size: 12px;">fitbit</a>
        
        <a href="https://sankame.github.io/tags/gulp" style="font-size: 12px;">gulp</a>
        
        <a href="https://sankame.github.io/tags/jqGrid" style="font-size: 12px;">jqGrid</a>
        
        <a href="https://sankame.github.io/tags/node.js" style="font-size: 12px;">node.js</a>
        
        <a href="https://sankame.github.io/tags/npm" style="font-size: 12px;">npm</a>
        
        <a href="https://sankame.github.io/tags/programming-practice" style="font-size: 12px;">programming-practice</a>
        
        <a href="https://sankame.github.io/tags/shell" style="font-size: 12px;">shell</a>
        
        <a href="https://sankame.github.io/tags/ssh" style="font-size: 12px;">ssh</a>
        
        <a href="https://sankame.github.io/tags/stetho" style="font-size: 12px;">stetho</a>
        
        <a href="https://sankame.github.io/tags/vbscript" style="font-size: 12px;">vbscript</a>
        
        <a href="https://sankame.github.io/tags/wget" style="font-size: 12px;">wget</a>
        
        <a href="https://sankame.github.io/tags/windows" style="font-size: 12px;">windows</a>
        
        <a href="https://sankame.github.io/tags/%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%82%bf%e3%83%bc" style="font-size: 12px;">プロジェクター</a>
        
        <a href="https://sankame.github.io/tags/%e5%93%81%e8%b3%aa%e7%ae%a1%e7%90%86" style="font-size: 12px;">品質管理</a>
        
    </div>
</ul>
</div>



    <br>
    


<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7938855665302783"
     data-ad-slot="7089480753"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


</aside>


    </div>
</div>

<footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">

	<footer id="footer-left">
	    &copy; 2022 Webプログラマー <a href="/about" target="_blank">Sankame.</a> <br>
	    Powered by <a href="//gohugo.io">Hugo</a>. Theme by <a href="https://github.com/syui/hugo-theme-wave">hugo-theme-wave</a>.
	</footer>

    </div>
  </div>
</footer>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37675354-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
